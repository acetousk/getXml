<!-- Screen Location component://SimpleScreens/screen/SimpleScreens/Request/EditWikiPages.xml --><screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd" default-menu-title="Wiki Pages" default-menu-index="4"><parameter name="requestId" required="true"/><transition name="addWpr"><service-call name="create#mantle.request.WikiPageRequest" in-map="context" out-map="context" multi="parameter"/><default-response url="."/></transition><transition name="deleteWpr"><service-call name="delete#mantle.request.WikiPageRequest" in-map="context" out-map="context" multi="parameter"/><default-response url="."/></transition><transition name="getSpacePages"><actions><service-call name="org.moqui.impl.WikiServices.get#UserSpaceWikiPageSimpleList" in-map="context" out-map="context"/><script><![CDATA[ec.web.sendJsonResponse(resultList)]]></script></actions><default-response type="none"/></transition><actions><entity-find entity-name="mantle.request.WikiPageAndRequest" list="wparList"><econdition field-name="requestId"/></entity-find><service-call name="org.moqui.impl.WikiServices.get#UserWikiSpaces" in-map="[userId:ec.user.userId]" out-map="context"/></actions><widgets><container-dialog id="AddWprDialog" button-text="Add Wiki Page"><form-single name="AddWprForm" transition="addWpr"><field name="userId" from="ec.user.userId"><default-field><hidden/></default-field></field><field name="requestId"><default-field><hidden/></default-field></field><field name="wikiSpaceId"><default-field title="Space"><drop-down><list-options list="wikiSpaceAndUserList" key="${wikiSpaceId}" text="${wikiSpaceId}: ${description}"/></drop-down></default-field></field><field name="wikiPageId"><default-field title="Page"><drop-down combo-box="true"><dynamic-options transition="getSpacePages" value-field="wikiPageId" label-field="pageLabel"><depends-on field="userId"/><depends-on field="wikiSpaceId"/></dynamic-options></drop-down></default-field></field><field name="submitButton"><default-field title="Add Page"><submit/></default-field></field></form-single></container-dialog><form-list name="DeleteWprForm" list="wparList" transition="deleteWpr"><field name="requestId"><default-field><hidden/></default-field></field><field name="wikiPageId"><default-field><hidden/></default-field></field><field name="wikiSpaceId"><default-field title="Space"><display text=""/><link text="${wikiSpaceId}" url="//${appRoot}/Wiki/wiki/${wikiSpaceId}" link-type="anchor"/></default-field></field><field name="pagePath"><default-field title="Page"><display text=""/><link text="${pagePath}" url="//${appRoot}/Wiki/wiki/${wikiSpaceId}/${pagePath?:''}" link-type="anchor"/></default-field></field><field name="submitButton"><default-field title="Delete"><submit/></default-field></field></form-list></widgets></screen>