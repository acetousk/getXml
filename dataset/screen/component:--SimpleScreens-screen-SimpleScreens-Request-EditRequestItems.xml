<!-- Screen Location component://SimpleScreens/screen/SimpleScreens/Request/EditRequestItems.xml --><screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd" default-menu-title="Items" default-menu-index="2"><parameter name="requestId" required="true"/><transition name="addRequestItem"><service-call name="create#mantle.request.RequestItem" in-map="context" out-map="context" multi="parameter"/><default-response url="."/></transition><transition name="updateRequestItem"><service-call name="update#mantle.request.RequestItem" in-map="context" out-map="context" multi="parameter"/><default-response url="."/></transition><transition name="deleteRequestItem"><service-call name="delete#mantle.request.RequestItem" in-map="context" out-map="context" multi="parameter"/><default-response url="."/></transition><transition name="createPurchaseOrder"><service-call name="mantle.order.OrderServices.create#PurchaseRequestOrder" in-map="context" out-map="context" multi="parameter"/><default-response url="."/></transition><transition-include name="searchPartyList" location="component://SimpleScreens/template/party/PartyForms.xml"/><transition-include name="getProductList" location="component://SimpleScreens/template/product/ProductTransitions.xml"/><actions><entity-find entity-name="mantle.request.RequestItemOrder" list="requestItemOrderList" distinct="true"><econdition field-name="requestId"/><select-field field-name="orderId"/></entity-find><entity-find entity-name="mantle.request.RequestParty" list="customerRpList"><date-filter/><econdition field-name="requestId"/><econdition field-name="roleTypeId" value="Customer"/></entity-find><set field="customerRp" from="customerRpList?.first"/></actions><widgets><container-dialog id="NewRequestItem" button-text="New Request Item"><form-single name="NewRequestItemForm" transition="addRequestItem"><field name="requestId"><default-field><hidden/></default-field></field><field name="requiredByDate"><default-field title="Required By"><date-time/></default-field></field><field name="productId"><default-field title="Product"><drop-down><dynamic-options transition="getProductList" server-search="true" min-length="0"/></drop-down></default-field></field><field name="quantity"><default-field><text-line size="8" default-value="1"/></default-field></field><field name="maximumAmount"><default-field><text-line size="8"/></default-field></field><field name="supplierPartyId"><default-field title="Supplier"><drop-down allow-empty="true"><dynamic-options transition="searchPartyList" server-search="true" min-length="2" parameter-map="[roleTypeId:'Supplier']"/></drop-down></default-field></field><field name="description"><default-field><text-area/></default-field></field><field name="submit"><default-field><submit text="Add"/></default-field></field></form-single></container-dialog><link url="createPurchaseOrder" text="Create Purchase Order" link-type="hidden-form"><parameter name="customerPartyId" from="customerRp?.partyId"/></link><section-iterate name="OrderSection" list="requestItemOrderList" entry="item"><widgets><link url="//${appRoot}/Order/OrderDetail" text="Order ${item.orderId}"><parameter name="orderId" from="item.orderId"/></link></widgets></section-iterate><form-list name="RequestItemListForm" list="requestItemList" transition="updateRequestItem"><entity-find entity-name="mantle.request.RequestItem" list="requestItemList"><econdition field-name="requestId"/></entity-find><field name="requestId"><default-field><hidden/></default-field></field><field name="requestItemSeqId"><default-field title="Item"><display/></default-field></field><field name="requiredByDate"><default-field title="Required By"><date-time/></default-field></field><field name="productId"><default-field title="Product"><drop-down><dynamic-options transition="getProductList" server-search="true" min-length="0"/></drop-down></default-field></field><field name="quantity"><default-field><text-line size="5"/></default-field></field><field name="maximumAmount"><default-field title="Max Amt"><text-line size="5"/></default-field></field><field name="description"><default-field><text-area cols="40" rows="3"/></default-field></field><field name="supplierPartyId"><default-field title="Supplier"><drop-down allow-empty="true"><dynamic-options transition="searchPartyList" server-search="true" min-length="2" parameter-map="[roleTypeId:'Supplier']"/></drop-down></default-field></field><field name="submit"><default-field><submit text="Update"/><link url="deleteRequestItem" text="Delete" confirmation="Delete item?"/></default-field></field></form-list></widgets></screen>