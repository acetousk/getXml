<!-- Screen Location component://SimpleScreens/screen/SimpleScreens/Accounting/GlAccount/GlAccountTree.xml --><screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd" default-menu-include="false"><transition name="editGlAccount"><default-response url="../EditGlAccount"/></transition><widgets><tree name="AccountTree"><tree-node name="AccountNode"><link url="editGlAccount" text="${accountCodeFormatter != null ? accountCodeFormatter.valueToString(nodeList_entry.accountCode) : nodeList_entry.accountCode}: ${nodeList_entry.accountName} (${nodeList_entry.classEnum?.description ?: 'No Class'})${nodeList_entry.disallowPosting ? (' ' + ec.l10n.localize('Non-Posting')) : ''}" id="${treeNodeId == '#' ? '' : treeNodeId + '/'}${nodeList_entry.glAccountId}"><parameter name="glAccountId" from="nodeList_entry.glAccountId"/></link><tree-sub-node node-name="AccountNode" list="childAccounts"><actions><set field="parentGlAccountId" from="treeNodeId.split('/').last()"/><entity-find entity-name="mantle.ledger.account.GlAccount" list="childAccounts"><econdition field-name="parentGlAccountId"/><order-by field-name="accountCode"/></entity-find><set field="glAccountCodeMask" from="ec.user.getPreference('GlAccountCodeMask')"/><set field="accountCodeFormatter" from="masker(glAccountCodeMask, '0')"/></actions></tree-sub-node></tree-node><tree-sub-node node-name="AccountNode" list="topLevelAccounts"><actions><entity-find entity-name="mantle.ledger.account.GlAccount" list="topLevelAccounts"><econdition field-name="parentGlAccountId" from="null"/><order-by field-name="accountCode"/></entity-find><set field="glAccountCodeMask" from="ec.user.getPreference('GlAccountCodeMask')"/><set field="accountCodeFormatter" from="masker(glAccountCodeMask, '0')"/></actions></tree-sub-node></tree></widgets></screen>