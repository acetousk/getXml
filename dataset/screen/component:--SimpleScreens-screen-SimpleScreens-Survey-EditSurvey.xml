<!-- Screen Location component://SimpleScreens/screen/SimpleScreens/Survey/EditSurvey.xml --><screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd" default-menu-title="Survey" default-menu-index="1"><parameter name="formId" required="true"/><transition name="updateSurvey"><service-call name="update#moqui.screen.form.DbForm" in-map="true" out-map="context" multi="parameter"/><default-response url="."/></transition><transition name="addUserGroup"><service-call name="create#moqui.screen.form.DbFormUserGroup" in-map="true" out-map="context" multi="parameter"/><default-response url="."/></transition><transition name="deleteDbFormUserGroup"><service-call name="delete#moqui.screen.form.DbFormUserGroup" in-map="true" out-map="context" multi="parameter"/><default-response url="."/></transition><actions><set field="formLocation" value="DbForm#${formId}"/><entity-find-one entity-name="moqui.screen.form.DbForm" value-field="survey"><field-map field-name="formId" from="formId"/></entity-find-one></actions><widgets><container-row><row-col lg="7"><form-single name="EditSurveyForm" map="survey" transition="updateSurvey"><field name="formId"><default-field title="Survey ID"><display text="${formId}"/></default-field></field><field name="description"><default-field title="Description"><text-line size="70"/></default-field></field><field name="comments"><default-field><text-area cols="60" rows="6"/></default-field></field><field name="submitButton"><default-field title="Update"><submit/></default-field></field></form-single></row-col><row-col lg="5" style="position: right;"><section name="UserGroupSection"><widgets><container-box><box-header title="User Groups"/><box-toolbar><container-dialog id="NewUserGroupDialog" button-text="Add User Group"><form-single name="NewUserGroupForm" transition="addUserGroup"><field name="formId"><default-field title="Survey ID"><hidden/></default-field></field><field name="userGroupId"><default-field title="User Group ID"><drop-down><entity-options key="${userGroupId}" text="${description ? description : userGroupId}"><entity-find entity-name="moqui.security.UserGroup"><econdition field-name="groupTypeEnumId" value="UgtPopcAdmin"/><order-by field-name="description,userGroupId,groupTypeEnumId"/></entity-find></entity-options></drop-down></default-field></field><field name="submitButton"><default-field title="Add"><submit/></default-field></field></form-single></container-dialog></box-toolbar><box-body><form-list name="UserGroupForm" list="userGroupList"><entity-find entity-name="moqui.screen.form.DbFormAndUserGroup" list="dbFormUserGroupList"><econdition field-name="formId"/><select-field field-name="description"/><order-by field-name="description,groupTypeEnumId"/></entity-find><field name="formId"><default-field><hidden/></default-field></field><field name="userGroupId"><default-field><hidden/></default-field></field><field name="description"><default-field title="User Group"><display text="${description ? description : userGroupId}"/></default-field></field><field name="deleteButton" align="right"><default-field title=""><link url="deleteDbFormUserGroup" icon="fa fa-trash" parameter-map="[formId:formId, userGroupId:userGroupId]" confirmation="Are you sure you want to remove this User Group?"/></default-field></field></form-list></box-body></container-box></widgets></section></row-col></container-row></widgets></screen>