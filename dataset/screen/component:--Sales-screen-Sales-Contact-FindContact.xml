<!-- Screen Location component://Sales/screen/Sales/Contact/FindContact.xml --><screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd" require-authentication="true" default-menu-title="Find Contact"><transition name="createContact"><service-call name="mantle.sales.AccountServices.create#Contact" in-map="true" out-map="context" multi="parameter"/><default-response url="../ViewContact"/></transition><transition name="viewContact"><default-response url="../ViewContact"/></transition><transition name="viewAccount"><default-response url="../../Account/ViewAccount"/></transition><transition-include name="searchPartyList" location="component://SimpleScreens/template/party/PartyForms.xml"/><pre-actions><set field="roleTypeId" value="Contact"/></pre-actions><actions><service-call name="sales.SalesServices.search#Party" in-map="context" out-map="context"/></actions><widgets><container-dialog id="CreateContactDialog" button-text="New Sales Contact"><form-single name="CreateContactForm" transition="createContact"><field name="accountPartyId"><default-field title="Sales Account"><drop-down allow-empty="true"><dynamic-options transition="searchPartyList" server-search="true" min-length="0" parameter-map="[roleTypeId:'Account']"/></drop-down></default-field></field><field name="firstName"><default-field><text-line size="30"/></default-field></field><field name="lastName"><default-field><text-line size="30"/></default-field></field><field name="submitButton"><default-field title="Create"><submit/></default-field></field></form-single></container-dialog><form-list name="ContactList" list="documentList" skip-form="true" header-dialog="true" select-columns="true" saved-finds="true" show-csv-button="true" show-xlsx-button="true" show-page-size="true" show-all-button="true"><row-actions><entity-find entity-name="mantle.party.contact.PartyContactMechInfo" list="emailList"><date-filter/><econdition field-name="partyId"/><econdition field-name="contactMechPurposeId" value="EmailPrimary"/></entity-find><entity-find entity-name="mantle.party.PartyRelationship" list="accountList"><date-filter/><econdition field-name="fromPartyId" from="partyId"/><econdition field-name="fromRoleTypeId" value="Contact"/><select-field field-name="toPartyId"/></entity-find></row-actions><field name="partyId"><default-field><link url="viewContact" entity-name="mantle.party.PartyDetail" text="PartyNameOnlyTemplate" link-type="anchor" parameter-map="[partyId:partyId]"/></default-field></field><field name="contactEmail"><default-field title="Email Address"><section-iterate name="EmailList" list="emailList" entry="email"><widgets><label text="${email.infoString}"/></widgets></section-iterate></default-field></field><field name="toPartyId"><header-field title="Sales Account"><drop-down allow-empty="true"><dynamic-options transition="searchPartyList" server-search="true" min-length="0" parameter-map="[roleTypeId:'Account']"/></drop-down></header-field><default-field><section-iterate name="AccountList" list="accountList" entry="account"><actions><entity-find-one entity-name="mantle.party.PartyDetail" value-field="accountDetail"><field-map field-name="partyId" from="account.toPartyId"/></entity-find-one></actions><widgets><link url="viewAccount" text-map="accountDetail" text="PartyNameOnlyTemplate" parameter-map="[partyId:account.toPartyId]" link-type="anchor"/></widgets></section-iterate></default-field></field><field name="submitButton"><header-field title="Find"><submit/></header-field></field></form-list></widgets></screen>