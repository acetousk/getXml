<!--Transition Screen Location component://coarchy/screen/coarchy/cointernal/Process/EditProcessStory/ManageValues.xml Transition Name getValueList--><transition name="getValueList"><parameter name="activityId" required="true"/><parameter name="dialogIndex"/><parameter name="pageIndex"/><parameter name="pageSize"/><parameter name="orderByField"/><parameter name="excludeValueIds"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://coarchy/screen/coarchy/cointernal.xml--><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--always-actions at component://coarchy/screen/coarchy/cointernal/Process/EditProcessStory.xml--><if condition="!activeOrgId"><message><![CDATA[${ec.resource.expand('CoarchySelectAnOrg', null)}]]></message><script><![CDATA[sri.sendRedirectAndStopRender('/settings/Organizations')]]></script></if><entity-find-count entity-name="mantle.party.PartyRelationship" count-field="partyRelationshipCount"><date-filter/><econdition field-name="relationshipTypeEnumId" value="PrtMember"/><econdition field-name="toRoleTypeId" value="OrgInternal"/><econdition field-name="fromPartyId" from="ec.user.userAccount.partyId"/><econdition field-name="toPartyId" from="activeOrgId"/></entity-find-count><entity-find-count entity-name="mantle.party.PartyActivation" count-field="partyActivationCount"><date-filter/><econdition field-name="partyId" from="activeOrgId"/></entity-find-count><!--transition actions--><set field="valueList" from="[]"/><if condition="term == null && valueIdList ? valueIdList?.size() > 0 : false"><then><entity-find entity-name="coarchy.ValueStatement" list="valueList" limit="50"><econdition field-name="disabled" value="N" or-null="true"/><econdition field-name="replacedByValueStatementId" operator="is-null"/><econdition field-name="valueStatementId" operator="in" from="valueIdList"/><econdition field-name="valueStatementId" operator="not-in" from="excludeValueIds" ignore-if-empty="true"/><order-by field-name="value"/></entity-find></then><else><entity-find entity-name="coarchy.ValueStatement" list="valueList" limit="50"><econdition field-name="disabled" value="N" or-null="true"/><econdition field-name="replacedByValueStatementId" operator="is-null"/><econdition field-name="value" operator="like" value="%${term}%" ignore-case="true"/><econdition field-name="valueStatementId" operator="not-in" from="excludeValueIds" ignore-if-empty="true"/><order-by field-name="value"/></entity-find></else></if><set field="outList" from="[]"/><iterate list="valueList" entry="value"><script><![CDATA[outList.add([value:value.valueStatementId, label:(value?.value&&value.value.size()>79)?value.value.take(79)+"...":value.value])]]></script></iterate><script><![CDATA[ec.web.sendJsonResponse(outList)]]></script></actions></transition>