<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Party/FinancialInfo.xml Transition Name actions--><transition name="actions"><parameter name="partyId" required="true"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://PopCommerce/screen/PopCommerceAdmin.xml--><set field="appRoot" value="PopcAdmin"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="PopcAdmin"/><set field="searchProductDocType" value="MantleProduct"/><set field="searchPartyDocType" value="MantleParty"/><set field="appUserGroupTypeEnumId" value="UgtPopcAdmin"/><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--actions--><entity-find-one entity-name="mantle.party.PartyDetail" value-field="partyDetail"/><entity-find-one entity-name="mantle.party.PartyRole" value-field="internalRole"><field-map field-name="partyId"/><field-map field-name="roleTypeId" value="OrgInternal"/></entity-find-one><if condition="internalRole != null"><return error="true" message="${ec.resource.expand('PartyNameTemplate', null, partyDetail)} is an Internal Organization, see Accounting screens and reports for financial information"/></if><entity-find-count entity-name="mantle.request.RequestAndParty" count-field="requestCount"><date-filter/><econdition field-name="partyId"/></entity-find-count><entity-find-count entity-name="mantle.order.OrderPart" count-field="customerOrderPartCount"><econdition field-name="customerPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.order.OrderPart" count-field="vendorOrderPartCount"><econdition field-name="vendorPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.shipment.Shipment" count-field="fromShipmentCount"><econdition field-name="fromPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.shipment.Shipment" count-field="toShipmentCount"><econdition field-name="toPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.account.invoice.Invoice" count-field="fromInvoiceCount"><econdition field-name="fromPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.account.invoice.Invoice" count-field="toInvoiceCount"><econdition field-name="toPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.account.payment.Payment" count-field="fromPaymentCount"><econdition field-name="fromPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.account.payment.Payment" count-field="toPaymentCount"><econdition field-name="toPartyId" from="partyId"/></entity-find-count><entity-find entity-name="mantle.order.OrderHeaderAndPartSummary" list="ordersTotalList"><econdition field-name="customerPartyId" from="partyId"/><econdition field-name="partStatusId" operator="in" value="OrderPlaced,OrderProcessing,OrderApproved,OrderSent,OrderCompleted"/><select-field field-name="currencyUomId,orderCount,partTotal"/></entity-find><entity-find entity-name="mantle.account.invoice.InvoiceSummary" list="invoicesTotalList"><econdition field-name="toPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="InvoiceInProcess,InvoiceFinalized,InvoiceSent,InvoiceAcked,InvoicePmtRecvd"/><select-field field-name="currencyUomId,invoiceCount,grandTotal,unpaidTotal"/></entity-find><entity-find entity-name="mantle.account.payment.PaymentSummary" list="paymentsTotalList"><econdition field-name="fromPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="PmntProposed,PmntPromised,PmntAuthorized,PmntDelivered,PmntConfirmed"/><select-field field-name="amountUomId,paymentCount,amountTotal,unappliedTotal"/></entity-find><entity-find entity-name="mantle.order.OrderHeaderAndPartSummary" list="ordersCompletedList"><econdition field-name="customerPartyId" from="partyId"/><econdition field-name="partStatusId" value="OrderCompleted"/><select-field field-name="currencyUomId,orderCount,partTotal"/></entity-find><entity-find entity-name="mantle.account.invoice.InvoiceSummary" list="invoicesBookedList"><econdition field-name="toPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="InvoiceFinalized,InvoiceSent,InvoiceAcked,InvoicePmtRecvd"/><select-field field-name="currencyUomId,invoiceCount,grandTotal,unpaidTotal"/></entity-find><entity-find entity-name="mantle.account.payment.PaymentSummary" list="paymentsPaidList"><econdition field-name="fromPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="PmntDelivered,PmntConfirmed"/><select-field field-name="amountUomId,paymentCount,amountTotal,unappliedTotal"/></entity-find><entity-find entity-name="mantle.order.OrderHeaderAndPartSummary" list="supOrdersTotalList"><econdition field-name="vendorPartyId" from="partyId"/><econdition field-name="partStatusId" operator="in" value="OrderPlaced,OrderProcessing,OrderApproved,OrderSent,OrderCompleted"/><select-field field-name="currencyUomId,orderCount,partTotal"/></entity-find><entity-find entity-name="mantle.account.invoice.InvoiceSummary" list="supInvoicesTotalList"><econdition field-name="fromPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="InvoiceIncoming,InvoiceReceived,InvoiceApproved,InvoicePmtSent"/><select-field field-name="currencyUomId,invoiceCount,grandTotal,unpaidTotal"/></entity-find><entity-find entity-name="mantle.account.payment.PaymentSummary" list="supPaymentsTotalList"><econdition field-name="toPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="PmntProposed,PmntPromised,PmntAuthorized,PmntDelivered,PmntConfirmed"/><select-field field-name="amountUomId,paymentCount,amountTotal,unappliedTotal"/></entity-find><entity-find entity-name="mantle.order.OrderHeaderAndPartSummary" list="supOrdersCompletedList"><econdition field-name="vendorPartyId" from="partyId"/><econdition field-name="partStatusId" value="OrderCompleted"/><select-field field-name="currencyUomId,orderCount,partTotal"/></entity-find><entity-find entity-name="mantle.account.invoice.InvoiceSummary" list="supInvoicesBookedList"><econdition field-name="fromPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="InvoiceApproved,InvoicePmtSent"/><select-field field-name="currencyUomId,invoiceCount,grandTotal,unpaidTotal"/></entity-find><entity-find entity-name="mantle.account.payment.PaymentSummary" list="supPaymentsPaidList"><econdition field-name="toPartyId" from="partyId"/><econdition field-name="statusId" operator="in" value="PmntDelivered,PmntConfirmed"/><select-field field-name="amountUomId,paymentCount,amountTotal,unappliedTotal"/></entity-find></actions></transition>