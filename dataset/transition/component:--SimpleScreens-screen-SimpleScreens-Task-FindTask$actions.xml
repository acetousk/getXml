<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Task/FindTask.xml Transition Name actions--><transition name="actions"><parameter name="term"/><parameter name="roleTypeId"/><parameter name="indexName"/><parameter name="documentType"/><parameter name="partyTypeEnumId"/><parameter name="includeDisabled"/><parameter name="restrictActiveOrg"/><parameter name="pageIndex"/><parameter name="term"/><parameter name="rootWorkEffortId"/><parameter name="assignedPartyId"/><parameter name="indexName"/><parameter name="documentType"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://HiveMind/screen/HiveMindRoot.xml--><set field="appRoot" value="hm"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="hm"/><set field="searchTaskDocType" value="MantleTask"/><set field="searchPartyDocType" value="MantleParty"/><!--pre-actions--><set field="html_title" value="Find Task"/><!--actions--><entity-find entity-name="mantle.work.effort.WorkEffortAndParty" list="myProjectList"><econditions combine="or"><econdition field-name="visibilityEnumId" operator="in" value="WevGeneral,WevAllUsers"/><econditions><date-filter/><econdition field-name="partyId" from="ec.user.userAccount.partyId"/></econditions></econditions><econdition field-name="workEffortTypeEnumId" value="WetProject"/><order-by field-name="workEffortId"/></entity-find><set field="myProjectIds" from="myProjectList.workEffortId"/><if condition="!queryString"><then><entity-find entity-name="mantle.work.effort.PartyTaskSummary" list="taskList"><search-form-inputs default-order-by="priority,workEffortId"><default-parameters statusId="WeInPlanning,WeApproved,WeInProgress,WeOnHold,WeComplete" statusId_op="in"/></search-form-inputs><econdition field-name="workEffortTypeEnumId" value="WetTask"/><econdition field-name="rootWorkEffortId" operator="in" from="myProjectIds" or-null="true"/><select-field field-name="rootWorkEffortId,milestoneWorkEffortId,parentWorkEffortId,workEffortId"/><select-field field-name="workEffortName,priority,purposeEnumId,statusId,resolutionEnumId"/><select-field field-name="estimatedCompletionDate,estimatedWorkTime,remainingWorkTime,actualWorkTime,lastUpdatedStamp"/></entity-find></then><else><set field="searchInputs" from="new HashMap(ec.web.parameters)"/><if condition="rootWorkEffortId"><set field="queryString" value="${queryString} AND project:${rootWorkEffortId}"/><set field="searchInputs.rootWorkEffortId" value=""/></if><if condition="parentWorkEffortId"><set field="queryString" value="${queryString} AND parent:${parentWorkEffortId}"/><set field="searchInputs.parentWorkEffortId" value=""/></if><if condition="workEffortId"><set field="queryString" value="${queryString} AND workEffortId:${workEffortId}"/><set field="searchInputs.workEffortId" value=""/></if><if condition="purposeEnumId"><set field="queryString" value="${queryString} AND purposeEnumId:${purposeEnumId}"/><set field="searchInputs.purposeEnumId" value=""/></if><if condition="statusId"><set field="queryString" value="${queryString} AND statusId:${statusId}"/><set field="searchInputs.statusId" value=""/></if><if condition="resolutionEnumId"><set field="queryString" value="${queryString} AND resolutionEnumId:${resolutionEnumId}"/><set field="searchInputs.resolutionEnumId" value=""/></if><service-call name="org.moqui.search.SearchServices.search#DataDocuments" out-map="context" in-map="context + [indexName:'mantle', documentType:'MantleTask']"/><set field="workEffortIdList" from="documentList._id"/><entity-find entity-name="mantle.work.effort.PartyTaskSummary" list="taskList"><search-form-inputs default-order-by="priority,workEffortId" input-fields-map="searchInputs"/><econdition field-name="workEffortId" operator="in" from="workEffortIdList"/><econdition field-name="rootWorkEffortId" operator="in" from="myProjectIds" or-null="true"/><econdition field-name="workEffortTypeEnumId" value="WetTask"/><select-field field-name="rootWorkEffortId,milestoneWorkEffortId,parentWorkEffortId,workEffortId"/><select-field field-name="workEffortName,priority,purposeEnumId,statusId,resolutionEnumId"/><select-field field-name="estimatedCompletionDate,estimatedWorkTime,remainingWorkTime,actualWorkTime,lastUpdatedStamp"/></entity-find></else></if></actions></transition>