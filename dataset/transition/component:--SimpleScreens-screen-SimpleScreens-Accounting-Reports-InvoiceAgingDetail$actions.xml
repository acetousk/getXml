<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Accounting/Reports/InvoiceAgingDetail.xml Transition Name actions--><transition name="actions"><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://PopCommerce/screen/PopCommerceAdmin.xml--><set field="appRoot" value="PopcAdmin"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="PopcAdmin"/><set field="searchProductDocType" value="MantleProduct"/><set field="searchPartyDocType" value="MantleParty"/><set field="appUserGroupTypeEnumId" value="UgtPopcAdmin"/><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--actions--><set field="invoiceType" from="invoiceType ?: 'Receivable'"/><if condition="'payable'.equalsIgnoreCase(invoiceType)"><then><set field="toRoleTypeId" value="OrgInternal"/></then><else-if condition="'receivable'.equalsIgnoreCase(invoiceType)"><set field="fromRoleTypeId" value="OrgInternal"/></else-if></if><set field="periodDays" from="(periodDays ?: '30') as int"/><set field="periodDaysBd" from="new BigDecimal(periodDays)"/><set field="dateField" from="dateField ?: 'invoiceDate'"/><set field="statusId" from="statusId ?: (invoiceType == 'Payable' ? 'InvoiceApproved,InvoicePmtSent,InvoiceBilledThrough' : 'InvoiceFinalized,InvoiceSent,InvoiceAcked,InvoicePmtRecvd,InvoiceWriteOff')"/><set field="statusId_op" value="in"/><set field="referenceNumber" from="refNum"/><set field="asOfDate" from="asOfDate ? ec.l10n.parseTimestamp(asOfDate + ' 23:59:59.999', 'yyyy-MM-dd HH:mm:ss.SSS', null, TimeZone.getDefault()) : ec.user.nowTimestamp"/></actions></transition>