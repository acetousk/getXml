<!--Transition Screen Location component://HiveMind/screen/HiveMindAdmin/Client/EditClient.xml Transition Name getPersonList--><transition name="getPersonList"><parameter name="partyId" required="true"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://HiveMind/screen/HiveMindAdmin.xml--><set field="appRoot" value="hmadmin"/><set field="taskRoot" value="hm"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="hmadmin,hm"/><set field="searchTaskDocType" value="MantleTask"/><set field="searchPartyDocType" value="MantleParty"/><!--transition actions--><entity-find entity-name="mantle.party.PersonAndUserAccount" list="pauList" limit="20"><econditions combine="or"><econdition field-name="firstName" operator="like" value="%${term}%" ignore-case="true"/><econdition field-name="lastName" operator="like" value="%${term}%" ignore-case="true"/><econdition field-name="username" operator="like" value="%${term}%" ignore-case="true"/></econditions><order-by field-name="^firstName"/><order-by field-name="^lastName"/><order-by field-name="^username"/></entity-find><script><![CDATA[def outList = []
                for (def pau in pauList)
                    outList.add([value:pau.partyId, label:"${pau.firstName} ${pau.lastName} (${pau.username})".toString()])
                ec.web.sendJsonResponse(outList)]]></script></actions></transition>