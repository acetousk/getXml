<!--Transition Screen Location component://webroot/screen/webroot.xml Transition Name status--><transition name="status"><path-parameter name="emailMessageId"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--transition actions--><set field="allowed_ips" from="System.getProperty('webapp_status_ips')? System.getProperty('webapp_status_ips').replaceAll('\\s', '').split(',')+['127.0.0.1','0:0:0:0:0:0:0:1']: ['127.0.0.1','0:0:0:0:0:0:0:1']"/><if condition="ec.user.getClientIp() in allowed_ips"><then><script><![CDATA[ec.web.sendJsonResponse(ec.factory.getStatusMap())]]></script></then><else><log message="Rejecting /status from ${ec.web.getRequest().getRemoteAddr()}"/></else></if></actions></transition>