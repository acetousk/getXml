<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Task/EditTask.xml Transition Name getUserProjectList--><transition name="getUserProjectList"><parameter name="workEffortId" required="true"/><parameter name="term"/><parameter name="rootWorkEffortId"/><parameter name="assignedPartyId"/><parameter name="indexName"/><parameter name="documentType"/><parameter name="term"/><parameter name="statusId"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://HiveMind/screen/HiveMindRoot.xml--><set field="appRoot" value="hm"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="hm"/><set field="searchTaskDocType" value="MantleTask"/><set field="searchPartyDocType" value="MantleParty"/><!--transition actions--><set field="outList" from="[]"/><entity-find-one entity-name="mantle.work.effort.WorkEffort" value-field="workEffort"><field-map field-name="workEffortId" from="term"/></entity-find-one><if condition="workEffort != null"><script><![CDATA[outList.add([value:workEffort.workEffortId, label:ec.resource.expand("WorkEffortNameTemplate", "", workEffort)])]]></script></if><entity-find entity-name="mantle.work.effort.WorkEffortAndParty" list="projectList" limit="50"><econdition field-name="workEffortTypeEnumId" value="WetProject"/><econdition field-name="statusId" operator="in" ignore-if-empty="true"/><econditions combine="or"><econdition field-name="workEffortId" operator="like" value="%${term}%" ignore-case="true" ignore-if-empty="true"/><econdition field-name="workEffortName" operator="like" value="%${term}%" ignore-case="true" ignore-if-empty="true"/><econdition field-name="description" operator="like" value="%${term}%" ignore-case="true" ignore-if-empty="true"/></econditions><econditions combine="or"><econdition field-name="visibilityEnumId" operator="in" value="WevGeneral,WevAllUsers"/><econditions><date-filter/><econdition field-name="partyId" from="ec.user.userAccount.partyId"/></econditions></econditions><select-field field-name="workEffortId,workEffortName"/><order-by field-name="workEffortId"/></entity-find><script><![CDATA[for (def project in projectList)
                    outList.add([value:project.workEffortId, label:ec.resource.expand("WorkEffortNameTemplate", "", project)])
                ec.web.sendJsonResponse(outList)]]></script></actions></transition>