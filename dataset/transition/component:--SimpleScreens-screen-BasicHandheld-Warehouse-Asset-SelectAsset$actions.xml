<!--Transition Screen Location component://SimpleScreens/screen/BasicHandheld/Warehouse/Asset/SelectAsset.xml Transition Name actions--><transition name="actions"><parameter name="facilityId"/><parameter name="locationSeqId"/><parameter name="containerId"/><parameter name="productId"/><parameter name="assetPoolId"/><parameter name="lotId"/><parameter name="quantity"/><parameter name="toScanLocation"/><parameter name="term"/><parameter name="facilityTypeEnumId"/><parameter name="parentFacilityId"/><parameter name="ownerPartyId"/><parameter name="term"/><parameter name="ownerPartyId"/><parameter name="partyId"/><parameter name="productStoreId"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://SimpleScreens/screen/BasicHandheld/Warehouse.xml--><set field="appRoot" value="hhwh"/><set field="searchIndexName" value="mantle"/><set field="searchProductDocType" value="MantleProduct"/><set field="searchPartyDocType" value="MantleParty"/><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--actions--><set field="facilityId" from="facilityId ?: ec.user.getPreference('FacilityActive') ?: ec.user.getPreference('FacilityGeneralDefault')"/><if condition="containerId"><entity-find entity-name="mantle.product.asset.AssetSummaryView" list="contAssetList"><econdition field-name="containerId"/><econdition field-name="productId" ignore-if-empty="true"/><having-econditions><econdition field-name="quantityOnHandTotal" operator="greater" from="0.0"/></having-econditions><select-field field-name="productId,pseudoId,productName,quantityOnHandTotal"/></entity-find><if condition="!productId && contAssetList.size() == 1"><set field="productId" from="contAssetList[0].productId"/></if></if><if condition="facilityId && locationSeqId"><entity-find entity-name="mantle.product.asset.AssetSummaryView" list="locAssetList"><econdition field-name="facilityId"/><econdition field-name="locationSeqId"/><econdition field-name="productId" ignore-if-empty="true"/><having-econditions><econdition field-name="quantityOnHandTotal" operator="greater" from="0.0"/></having-econditions><select-field field-name="productId,pseudoId,productName,quantityOnHandTotal"/></entity-find><if condition="!productId && locAssetList.size() == 1"><set field="productId" from="locAssetList[0].productId"/></if></if><if condition="facilityId && productId"><entity-find entity-name="mantle.product.asset.AssetSummaryView" list="prodAssetList"><econdition field-name="facilityId"/><econdition field-name="productId"/><econdition field-name="locationSeqId" ignore-if-empty="true"/><having-econditions><econdition field-name="quantityOnHandTotal" operator="greater" from="0.0"/></having-econditions><select-field field-name="locationSeqId,containerId,quantityOnHandTotal"/></entity-find><if condition="!locationSeqId && prodAssetList.size() == 1"><set field="locationSeqId" from="prodAssetList[0].locationSeqId"/></if></if><if condition="facilityId"><entity-find-one entity-name="mantle.facility.Facility" value-field="facility"/></if><if condition="containerId"><entity-find-one entity-name="mantle.product.asset.Container" value-field="container"/></if><if condition="locationSeqId"><entity-find-one entity-name="mantle.facility.FacilityLocation" value-field="facilityLocation"/></if><if condition="productId"><entity-find-one entity-name="mantle.product.Product" value-field="product"/></if><if condition="productId && facilityId"><entity-find entity-name="mantle.facility.ProductFacilityLocationDetail" list="pickLocList" distinct="true"><econdition field-name="productId"/><econdition field-name="facilityId"/><econdition field-name="locationTypeEnumId" value="FltPick"/><select-field field-name="locationSeqId,description,areaId,aisleId,sectionId,levelId,positionId"/></entity-find><if condition="!pickLocList"><entity-find entity-name="mantle.product.asset.AssetLocationDetail" list="pickLocList" distinct="true"><econdition field-name="productId"/><econdition field-name="facilityId"/><econdition field-name="locationTypeEnumId" value="FltPick"/><select-field field-name="locationSeqId,description,areaId,aisleId,sectionId,levelId,positionId"/></entity-find></if></if><set field="canMove" from="product != null && facility != null"/><if condition="toScanLocation && facilityId"><service-call name="mantle.product.AssetServices.check#ScanLocation" out-map="toScanOut" in-map="[facilityId:facilityId, scanLocation:toScanLocation]"/><if condition="!toScanOut.locationSeqId && !toScanOut.containerId"><set field="createContainerId" from="toScanLocation"/><set field="toScanLocation" from="null"/></if></if></actions></transition>