<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Party/EditParty.xml Transition Name actions--><transition name="actions"><parameter name="partyId" required="true"/><parameter name="partyContentId"/><parameter name="contactMechTypeEnumId"/><parameter name="classificationTypeEnumId"/><parameter name="partyClassificationId"/><parameter name="partySettingTypeId"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://PopCommerce/screen/PopCommerceAdmin.xml--><set field="appRoot" value="PopcAdmin"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="PopcAdmin"/><set field="searchProductDocType" value="MantleProduct"/><set field="searchPartyDocType" value="MantleParty"/><set field="appUserGroupTypeEnumId" value="UgtPopcAdmin"/><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--actions--><entity-find-one entity-name="mantle.party.PartyDetail" value-field="party"/><if condition="party == null"><return error="true" message="Party not found with ID ${partyId}"/></if><entity-find entity-name="moqui.security.UserAccount" list="userAccountList"><econdition field-name="partyId"/><econdition field-name="disabled" operator="not-equals" value="Y" or-null="true"/><order-by field-name="userId"/></entity-find><if condition="!userAccountList"><entity-find entity-name="moqui.security.UserAccount" list="userAccountList"><econdition field-name="partyId"/><econdition field-name="disabled" value="Y"/><order-by field-name="userId"/></entity-find></if><set field="userAccount" from="userAccountList ? userAccountList[0] : null"/><entity-find-count entity-name="mantle.request.RequestAndParty" count-field="requestCount"><date-filter/><econdition field-name="partyId"/></entity-find-count><entity-find-count entity-name="mantle.order.OrderPart" count-field="customerOrderPartCount"><econdition field-name="customerPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.order.OrderPart" count-field="vendorOrderPartCount"><econdition field-name="vendorPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.shipment.Shipment" count-field="fromShipmentCount"><econdition field-name="fromPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.shipment.Shipment" count-field="toShipmentCount"><econdition field-name="toPartyId" from="partyId"/></entity-find-count><entity-find-count entity-name="mantle.account.invoice.Invoice" count-field="fromInvoiceCount"><econdition field-name="fromPartyId" from="partyId"/><econdition field-name="statusId" operator="not-equals" value="InvoiceCancelled"/></entity-find-count><entity-find-count entity-name="mantle.account.invoice.Invoice" count-field="toInvoiceCount"><econdition field-name="toPartyId" from="partyId"/><econdition field-name="statusId" operator="not-equals" value="InvoiceCancelled"/></entity-find-count><entity-find-count entity-name="mantle.account.payment.Payment" count-field="fromPaymentCount"><econdition field-name="fromPartyId" from="partyId"/><econdition field-name="statusId" operator="not-in" value="PmntCancelled,PmntVoid"/></entity-find-count><entity-find-count entity-name="mantle.account.payment.Payment" count-field="toPaymentCount"><econdition field-name="toPartyId" from="partyId"/><econdition field-name="statusId" operator="not-in" value="PmntCancelled,PmntVoid"/></entity-find-count><entity-find entity-name="mantle.party.PartyRole" list="partyRoleList"><econdition field-name="partyId"/></entity-find><set field="roleTypeIdList" from="partyRoleList*.roleTypeId"/></actions></transition>