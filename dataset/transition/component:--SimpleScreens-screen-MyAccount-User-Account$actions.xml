<!--Transition Screen Location component://SimpleScreens/screen/MyAccount/User/Account.xml Transition Name actions--><transition name="actions"><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://SimpleScreens/screen/MyAccount/User/Account.xml--><set field="partyId" from="ec.user.userAccount?.partyId"/><set field="userId" from="ec.user.userId"/><!--actions--><entity-find-one entity-name="mantle.party.PersonAndUserAccount" value-field="personAndUserAccount"/><if condition="personAndUserAccount == null"><set field="personAndUserAccount" from="ec.user.userAccount"/></if><set field="singleUseCodes" from="ec.web.sessionAttributes.remove('singleUseCodes')"/><service-call name="org.moqui.impl.UserServices.get#UserAuthcFactorInfo" out-map="context"><field-map field-name="userId"/><field-map field-name="getFactorsIfNotRequired" from="false"/></service-call><if condition="partyId && !personAndUserAccount?.emailAddress"><service-call name="mantle.party.ContactServices.get#PrimaryEmailAddress" in-map="[partyId:partyId]" out-map="primaryEmail"/></if><set field="localeStringList" from="[]"/><iterate list="Locale.getAvailableLocales()" entry="lcl"><script><![CDATA[if (lcl.toString()) localeStringList.add([locale:lcl.toString(), name:lcl.getDisplayName(ec.user.locale)])]]></script></iterate><order-map-list list="localeStringList"><order-by field-name="name"/></order-map-list><set field="sendSmsLoc" from="ec.service.getServiceDefinition('org.moqui.SmsServices.send#SmsMessage')?.serviceNode?.fileLocation"/><set field="isSmsActive" from="sendSmsLoc && !sendSmsLoc.contains('classpath')"/></actions></transition>