<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Shipment/ShipmentDetail.xml Transition Name getPackageWeight--><transition name="getPackageWeight"><parameter name="shipmentId" required="true"/><parameter name="term"/><parameter name="facilityId"/><parameter name="locationSeqId"/><parameter name="shipmentId" required="true"/><parameter name="shipmentPackageSeqId" required="true"/><parameter name="shipmentBoxTypeId"/><parameter name="weightUomId"/><parameter name="weightFormat"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://PopCommerce/screen/PopCommerceAdmin.xml--><set field="appRoot" value="PopcAdmin"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="PopcAdmin"/><set field="searchProductDocType" value="MantleProduct"/><set field="searchPartyDocType" value="MantleParty"/><set field="appUserGroupTypeEnumId" value="UgtPopcAdmin"/><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--transition actions--><if condition="shipmentId && shipmentPackageSeqId"><then><if condition="!weightFormat"><set field="weightFormat" value="#,##0.0##"/></if><service-call name="mantle.shipment.ShipmentServices.get#ShipmentPackageWeight" in-map="context" out-map="weightOut" ignore-error="true"/><if condition="weightOut?.weight"><then><script><![CDATA[ec.web.sendTextResponse(ec.l10n.format(weightOut.weight, weightFormat))]]></script></then><else><entity-find-one entity-name="mantle.shipment.ShipmentPackage" value-field="shipmentPackage"/><script><![CDATA[ec.web.sendTextResponse(ec.l10n.format(shipmentPackage.weight, weightFormat))]]></script></else></if></then><else><script><![CDATA[ec.web.sendTextResponse('')]]></script></else></if></actions></transition>