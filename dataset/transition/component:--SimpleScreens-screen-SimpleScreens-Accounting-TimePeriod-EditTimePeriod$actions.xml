<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Accounting/TimePeriod/EditTimePeriod.xml Transition Name actions--><transition name="actions"><parameter name="timePeriodId" required="true"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://PopCommerce/screen/PopCommerceAdmin.xml--><set field="appRoot" value="PopcAdmin"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="PopcAdmin"/><set field="searchProductDocType" value="MantleProduct"/><set field="searchPartyDocType" value="MantleParty"/><set field="appUserGroupTypeEnumId" value="UgtPopcAdmin"/><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--actions--><entity-find-one entity-name="mantle.party.time.TimePeriod" value-field="timePeriod"/><if condition="timePeriod == null"><return error="true" message="Could not find Period with ID ${timePeriodId}"/></if><set field="timePeriodType" from="timePeriod.type"/><entity-find-one entity-name="mantle.party.time.TimePeriod" value-field="parentPeriod"><field-map field-name="timePeriodId" from="timePeriod.parentPeriodId"/></entity-find-one><entity-find-one entity-name="mantle.party.time.TimePeriod" value-field="previousPeriod"><field-map field-name="timePeriodId" from="timePeriod.previousPeriodId"/></entity-find-one><entity-find entity-name="mantle.party.time.TimePeriod" list="nextTimePeriodList"><econdition field-name="previousPeriodId" from="timePeriodId"/></entity-find><set field="nextPeriod" from="nextTimePeriodList ? nextTimePeriodList[0] : null"/><entity-find entity-name="mantle.party.time.TimePeriod" list="childTimePeriodList"><econdition field-name="parentPeriodId" from="timePeriodId"/><order-by field-name="periodNum"/></entity-find><entity-find entity-name="mantle.party.time.TimePeriodType" list="childTypeFindList"><econdition field-name="parentPeriodTypeId" from="timePeriod.timePeriodTypeId"/><order-by field-name="description"/></entity-find><entity-find entity-name="mantle.party.time.TimePeriodType" list="grandchildTypeFindList"><econdition field-name="parentPeriodTypeId" operator="in" from="childTypeFindList*.timePeriodTypeId"/><order-by field-name="description"/></entity-find><set field="childPeriodTypeList" from="new ArrayList(childTypeFindList)"/><script><![CDATA[childPeriodTypeList.addAll(grandchildTypeFindList)]]></script></actions></transition>