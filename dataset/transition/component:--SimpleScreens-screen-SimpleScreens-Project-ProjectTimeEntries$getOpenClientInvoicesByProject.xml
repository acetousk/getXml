<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Project/ProjectTimeEntries.xml Transition Name getOpenClientInvoicesByProject--><transition name="getOpenClientInvoicesByProject"><parameter name="workEffortId"/><parameter name="rootWorkEffortId" required="true" from="rootWorkEffortId ?: workEffortId"/><parameter name="showInvoiced"/><parameter name="workerPartyId"/><parameter name="workEffortId"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://HiveMind/screen/HiveMindAdmin.xml--><set field="appRoot" value="hmadmin"/><set field="taskRoot" value="hm"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="hmadmin,hm"/><set field="searchTaskDocType" value="MantleTask"/><set field="searchPartyDocType" value="MantleParty"/><!--transition actions--><entity-find entity-name="mantle.work.effort.WorkEffortParty" list="billToList"><date-filter/><econdition field-name="workEffortId"/><econdition field-name="roleTypeId" operator="in" value="Customer,CustomerBillTo"/></entity-find><set field="billToWep" from="billToList ? billToList[0] : null"/><entity-find entity-name="mantle.work.effort.WorkEffortParty" list="billFromList"><date-filter/><econdition field-name="workEffortId"/><econdition field-name="roleTypeId" operator="in" value="Vendor,VendorBillFrom"/></entity-find><set field="billFromWep" from="billFromList ? billFromList[0] : null"/><entity-find entity-name="mantle.account.invoice.Invoice" list="invoiceList"><econdition field-name="invoiceTypeEnumId" value="InvoiceSales"/><econdition field-name="statusId" value="InvoiceInProcess"/><econdition field-name="toPartyId" from="billToWep?.partyId" ignore-if-empty="true"/><econdition field-name="fromPartyId" from="billFromWep?.partyId" ignore-if-empty="true"/></entity-find><set field="resultList" from="[[invoiceId:'', label:'New']]"/><iterate list="invoiceList" entry="invoice"><script><![CDATA[resultList.add([invoiceId:invoice.invoiceId, label:"#${invoice.invoiceId}: ${invoice.invoiceDate}".toString()])]]></script></iterate><script><![CDATA[ec.web.sendJsonResponse(resultList)]]></script></actions></transition>