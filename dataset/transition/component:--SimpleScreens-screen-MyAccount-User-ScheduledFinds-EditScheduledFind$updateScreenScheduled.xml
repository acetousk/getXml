<!--Transition Screen Location component://SimpleScreens/screen/MyAccount/User/ScheduledFinds/EditScheduledFind.xml Transition Name updateScreenScheduled--><transition name="updateScreenScheduled"><parameter name="screenScheduledId" required="true"/><parameter name="screenScheduledId"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--transition actions--><entity-find-one entity-name="moqui.screen.ScreenScheduled" value-field="screenScheduled"/><if condition="screenScheduled == null"><return error="true" message="Scheduled Find not found with ID ${screenScheduledId}"/></if><if condition="screenScheduled.userId != ec.user.userId"><return error="true" message="Scheduled Find with ID ${screenScheduledId} belongs to a different user"/></if><if condition="cronSelected"><set field="cronExpression" from="cronSelected"/></if><script><![CDATA[if (cronExpression) {
                    try { org.moqui.impl.service.ScheduledJobRunner.getExecutionTime((String) cronExpression) } catch (Exception e) {
                        ec.message.addError("Invalid Cron expression '${cronExpression}': ${e.message}")
                        return
                    }
                }]]></script><service-call name="update#moqui.screen.ScreenScheduled" in-map="context" out-map="context"/></actions></transition>