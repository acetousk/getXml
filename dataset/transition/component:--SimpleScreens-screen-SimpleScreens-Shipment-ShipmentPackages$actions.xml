<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Shipment/ShipmentPackages.xml Transition Name actions--><transition name="actions"><parameter name="shipmentId" required="true"/><parameter name="filterProductId"/><parameter name="pageIndex"/><parameter name="shipmentId"/><parameter name="shipmentPackageSeqId"/><parameter name="shipmentRouteSegmentSeqId"/><parameter name="retLabel"/><parameter name="intlInvoiceLabel"/><parameter name="shipmentId" required="true"/><parameter name="shipmentPackageSeqId" required="true"/><parameter name="shipmentBoxTypeId"/><parameter name="weightUomId"/><parameter name="weightFormat"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://PopCommerce/screen/PopCommerceAdmin.xml--><set field="appRoot" value="PopcAdmin"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="PopcAdmin"/><set field="searchProductDocType" value="MantleProduct"/><set field="searchPartyDocType" value="MantleParty"/><set field="appUserGroupTypeEnumId" value="UgtPopcAdmin"/><service-call name="mantle.party.PartyServices.setup#UserOrganizationInfo" out-map="context"/><!--actions--><set field="pageSize" from="pageSize ?: '10'"/><service-call name="mantle.shipment.ShipmentInfoServices.get#ShipmentDisplayInfo" in-map="[shipmentId:shipmentId]" out-map="context"/><set field="filteredShipmentPackageList" from="shipmentPackageList"/><if condition="filterProductId"><filter-map-list list="allShipmentPackageContentList" to-list="filteredShipmentPackageContentList"><field-map field-name="productId" from="filterProductId"/></filter-map-list><set field="shipmentPackageSeqIdSet" from="new HashSet(filteredShipmentPackageContentList*.shipmentPackageSeqId)"/><set field="filteredShipmentPackageList" from="shipmentPackageList.findAll({ shipmentPackageSeqIdSet.contains(it.shipmentPackageSeqId) })"/></if><set field="allProductIds" from="shipmentItemDetailList*.productId"/><entity-find entity-name="mantle.product.Product" list="allProductList"><econdition field-name="productId" operator="in" from="allProductIds"/><order-by field-name="pseudoId"/></entity-find><entity-find entity-name="mantle.facility.FacilityBoxTypeDetail" list="boxTypeList"><econdition field-name="facilityId" from="firstRouteSegment.originFacilityId"/><order-by field-name="description"/></entity-find><if condition="!boxTypeList"><entity-find entity-name="mantle.shipment.ShipmentBoxType" list="boxTypeList"><order-by field-name="description"/></entity-find></if><set field="localPrintAllLabels" from="false"/><if condition="ec.web.sessionAttributes.get('qzPackShipment' + shipmentId)"><set field="localPrintAllLabels" from="true"/><script><![CDATA[ec.web.sessionAttributes.put('qzPackShipment' + shipmentId, false)]]></script></if><set field="getShipmentLabelPath" from="sri.buildUrl('getShipmentLabel').path"/><set field="defaultNetworkPrinterId" from="ec.user.getPreference('Shipment.networkPrinterId.default')"/><entity-find entity-name="moqui.basic.print.NetworkPrinter" list="networkPrinterList"><order-by field-name="description,printerName"/></entity-find></actions></transition>