<!--Transition Screen Location component://SimpleScreens/screen/SimpleScreens/Vendor/EditVendor.xml Transition Name setVendorRep--><transition name="setVendorRep"><parameter name="partyId" required="true"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--always-actions at component://HiveMind/screen/HiveMindAdmin.xml--><set field="appRoot" value="hmadmin"/><set field="taskRoot" value="hm"/><set field="searchIndexName" value="mantle"/><set field="searchLinkSets" value="hmadmin,hm"/><set field="searchTaskDocType" value="MantleTask"/><set field="searchPartyDocType" value="MantleParty"/><!--transition actions--><entity-find entity-name="mantle.party.PartyRelationship" list="existingRepRelList"><date-filter/><econdition-object field="[relationshipTypeEnumId:'PrtRepresentative', toPartyId:partyId]"/></entity-find><iterate list="existingRepRelList" entry="existingRepRel"><set field="existingRepRel.thruDate" from="ec.user.nowTimestamp"/><entity-update value-field="existingRepRel"/></iterate><service-call name="create#mantle.party.PartyRelationship" in-map="[relationshipTypeEnumId:'PrtRepresentative', fromPartyId:repPartyId, fromRoleTypeId:'Manager',                         toPartyId:partyId, toRoleTypeId:'Vendor', fromDate:ec.user.nowTimestamp]"/></actions></transition>