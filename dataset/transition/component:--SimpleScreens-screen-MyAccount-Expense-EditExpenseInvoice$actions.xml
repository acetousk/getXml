<!--Transition Screen Location component://SimpleScreens/screen/MyAccount/Expense/EditExpenseInvoice.xml Transition Name actions--><transition name="actions"><parameter name="invoiceId" required="true"/><actions><!--always-actions at component://webroot/screen/webroot.xml--><set field="html_scripts" from="new LinkedHashSet()"/><set field="footer_scripts" from="new LinkedHashSet()"/><set field="html_stylesheets" from="new LinkedHashSet()"/><!--pre-actions--><set field="partyId" from="ec.user.userAccount.partyId"/><entity-find-one entity-name="mantle.account.invoice.Invoice" value-field="invoice"/><if condition="invoice.fromPartyId != partyId"><script><![CDATA[throw new IllegalArgumentException("You may not view or edit Invoice #${invoiceId}")]]></script></if><!--actions--><service-call name="mantle.account.InvoiceServices.get#InvoiceTotal" in-map="[invoiceId:invoiceId]" out-map="context"/><entity-find entity-name="mantle.work.effort.WorkEffortAndParty" list="myProjectList"><date-filter/><econdition field-name="partyId"/><econdition field-name="workEffortTypeEnumId" value="WetProject"/></entity-find></actions></transition>