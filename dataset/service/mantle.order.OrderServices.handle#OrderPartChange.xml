<!--Service Location mantle.order.OrderServices.handle#OrderPartChange--><service verb="handle" noun="OrderPartChange"><in-parameters><parameter name="orderId" required="true"/><parameter name="orderPartSeqId" required="true"/><parameter name="carrierPartyId"/><parameter name="shipmentMethodEnumId"/><parameter name="postalContactMechId"/><parameter name="customerPartyId"/><parameter name="disablePromotions"/><parameter name="disableShippingCalc"/><parameter name="disableTaxCalc"/><parameter name="partTotal" type="BigDecimal"/><parameter name="originalValue" type="Map"/></in-parameters><out-parameters/><actions><if condition="originalValue && partTotal != originalValue.partTotal"><return/></if><entity-find-one entity-name="mantle.order.OrderHeader" value-field="orderHeader" for-update="true"/><if condition="orderHeader.productStoreId && (!originalValue || postalContactMechId != originalValue.postalContactMechId ||                     carrierPartyId != originalValue.carrierPartyId || shipmentMethodEnumId != originalValue.shipmentMethodEnumId ||                     customerPartyId != originalValue.customerPartyId || disablePromotions != originalValue.disablePromotions ||                     disableShippingCalc != originalValue.disableShippingCalc || disableTaxCalc != originalValue.disableTaxCalc)"><then><service-call name="mantle.order.OrderServices.handle#OrderMajorChange" in-map="[orderId:orderId, orderPartSeqId:orderPartSeqId]"/></then><else><service-call name="mantle.order.OrderServices.increment#OrderRevision" in-map="context"/></else></if></actions></service>