<!--Service Location mantle.party.TimeServices.reset#TimePeriodNames--><service verb="reset" noun="TimePeriodNames"><in-parameters><parameter name="timePeriodTypeId"/><parameter name="partyId"/></in-parameters><out-parameters/><actions><entity-find entity-name="mantle.party.time.TimePeriod" list="timePeriodList"><econdition field-name="timePeriodTypeId" ignore-if-empty="true"/><econdition field-name="partyId" ignore-if-empty="true"/></entity-find><iterate list="timePeriodList" entry="timePeriod"><entity-find-one entity-name="mantle.party.PartyDetail" value-field="partyDetail"><field-map field-name="partyId" from="timePeriod.partyId"/></entity-find-one><set field="timePeriodType" from="timePeriod.type"/><set field="fromLocalDate" from="java.time.LocalDate.parse(timePeriod.fromDate.toString())"/><set field="thruLocalDate" from="java.time.LocalDate.parse(timePeriod.thruDate.toString())"/><set field="timePeriod.periodName" from="ec.resource.expand('TimePeriodBaseNameTemplate', null, timePeriod, true)"/><entity-update value-field="timePeriod"/></iterate></actions></service>