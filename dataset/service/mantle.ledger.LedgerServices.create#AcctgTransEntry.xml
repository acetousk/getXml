<!--Service Location mantle.ledger.LedgerServices.create#AcctgTransEntry--><service verb="create" noun="AcctgTransEntry"><in-parameters><parameter name="acctgTransId" required="true" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="acctgTransId"/><parameter name="acctgTrans" type="EntityValue"/><parameter name="debitCreditFlag" type="java.lang.String" required="true" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="debitCreditFlag"/><parameter name="amount" type="BigDecimal" required="true" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="amount"/><parameter name="localCurrencyAmount" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="localCurrencyAmount"/><parameter name="originalCurrencyAmount" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="originalCurrencyAmount"/><parameter name="description" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="description"/><parameter name="voucherRef" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="voucherRef"/><parameter name="glAccountTypeEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="glAccountTypeEnumId"/><parameter name="glAccountId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="glAccountId"/><parameter name="dueDate" type="java.sql.Date" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="dueDate"/><parameter name="reconcileStatusId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="reconcileStatusId" default-value="AterNot"/><parameter name="settlementTermId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="settlementTermId"/><parameter name="isSummary" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="isSummary" default-value="N"/><parameter name="productId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="productId"/><parameter name="externalProductId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="externalProductId"/><parameter name="assetId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="assetId"/><parameter name="invoiceItemSeqId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="invoiceItemSeqId"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="lastUpdatedStamp"/></in-parameters><out-parameters><parameter name="acctgTransEntrySeqId" entity-name="mantle.ledger.transaction.AcctgTransEntry" field-name="acctgTransEntrySeqId"/></out-parameters><actions><if condition="!acctgTrans"><entity-find-one entity-name="mantle.ledger.transaction.AcctgTrans" value-field="acctgTrans" for-update="true"/></if><if condition="acctgTrans.isPosted == 'Y'"><return error="true" message="Cannot create entry for transaction [${acctgTransId}], already posted."/></if><if condition="amount < 0"><set field="amount" from="amount.abs()"/><set field="debitCreditFlag" from="debitCreditFlag == 'D' ? 'C' : 'D'"/></if><service-call name="create#mantle.ledger.transaction.AcctgTransEntry" in-map="context" out-map="[acctgTransId:context.acctgTransId,acctgTransEntrySeqId:context.acctgTransEntrySeqId,debitCreditFlag:context.debitCreditFlag,amount:context.amount,localCurrencyAmount:context.localCurrencyAmount,originalCurrencyAmount:context.originalCurrencyAmount,description:context.description,voucherRef:context.voucherRef,glAccountTypeEnumId:context.glAccountTypeEnumId,glAccountId:context.glAccountId,dueDate:context.dueDate,reconcileStatusId:context.reconcileStatusId,settlementTermId:context.settlementTermId,isSummary:context.isSummary,productId:context.productId,externalProductId:context.externalProductId,assetId:context.assetId,invoiceItemSeqId:context.invoiceItemSeqId,lastUpdatedStamp:context.lastUpdatedStamp]"/></actions></service>