<!--Service Location org.moqui.impl.InstanceServices.check#AppDatabase--><service verb="check" noun="AppDatabase"><in-parameters><parameter name="appInstanceId" required="true"/></in-parameters><out-parameters><parameter name="dbConnectSuccess" type="Boolean"/><parameter name="databaseExists" type="Boolean"/><parameter name="dbUserExists" type="Boolean"/></out-parameters><actions><entity-find-one entity-name="moqui.server.instance.AppInstance" value-field="appInstance"/><set field="databaseType" from="appInstance.database?.type"/><if condition="databaseType == null"><return message="No DatabaseType found for AppInstance with ID ${appInstanceId}"/></if><service-call name="${databaseType.checkService}" in-map="context" out-map="context"/></actions></service>