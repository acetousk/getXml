<!--Service Location org.moqui.impl.SystemMessageServices.queue#SystemMessage--><service verb="queue" noun="SystemMessage"><in-parameters><parameter name="systemMessageId" entity-name="moqui.service.message.SystemMessage" field-name="systemMessageId"><description><![CDATA[Sequenced if null, may be passed in (sequenced value
                determined in advance) because sometimes this is needed as a reference ID inside a message.]]></description></parameter><parameter name="systemMessageTypeId" type="java.lang.String" required="true" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="systemMessageTypeId"/><parameter name="systemMessageRemoteId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="systemMessageRemoteId"><description><![CDATA[Required if the send service
                (SystemMessageType.sendServiceName) requires it. The send#SystemMessageJsonRpc service does require it.]]></description></parameter><parameter name="statusId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="statusId" default-value="SmsgProduced"/><parameter name="isOutgoing" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="isOutgoing" default-value="Y"/><parameter name="initDate" type="Timestamp" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="initDate" default="ec.user.nowTimestamp"/><parameter name="processedDate" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="processedDate"/><parameter name="lastAttemptDate" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="lastAttemptDate"/><parameter name="failCount" type="java.lang.Long" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="failCount"/><parameter name="parentMessageId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="parentMessageId"/><parameter name="ackMessageId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="ackMessageId"/><parameter name="remoteMessageId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="remoteMessageId"/><parameter name="messageText" type="java.lang.String" required="true" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="messageText"/><parameter name="senderId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="senderId"/><parameter name="receiverId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="receiverId"/><parameter name="messageId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="messageId"/><parameter name="messageDate" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="messageDate"/><parameter name="docType" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="docType"/><parameter name="docSubType" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="docSubType"/><parameter name="docControl" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="docControl"/><parameter name="docSubControl" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="docSubControl"/><parameter name="docVersion" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="docVersion"/><parameter name="triggerVisitId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="triggerVisitId"/><parameter name="invoiceId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="invoiceId"/><parameter name="paymentMethodFileId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="paymentMethodFileId"/><parameter name="orderId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="orderId"/><parameter name="orderPartSeqId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="orderPartSeqId"/><parameter name="orderRevision" type="java.lang.Long" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="orderRevision"/><parameter name="returnId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="returnId"/><parameter name="shipmentId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="shipmentId"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.service.message.SystemMessage" field-name="lastUpdatedStamp"/><parameter name="sendNow" type="Boolean" default="true"/></in-parameters><out-parameters><parameter name="systemMessageId" entity-name="moqui.service.message.SystemMessage" field-name="systemMessageId"/></out-parameters><actions><service-call name="create#moqui.service.message.SystemMessage" in-map="context" out-map="[systemMessageId:context.systemMessageId,systemMessageTypeId:context.systemMessageTypeId,systemMessageRemoteId:context.systemMessageRemoteId,statusId:context.statusId,isOutgoing:context.isOutgoing,initDate:context.initDate,processedDate:context.processedDate,lastAttemptDate:context.lastAttemptDate,failCount:context.failCount,parentMessageId:context.parentMessageId,ackMessageId:context.ackMessageId,remoteMessageId:context.remoteMessageId,messageText:context.messageText,senderId:context.senderId,receiverId:context.receiverId,messageId:context.messageId,messageDate:context.messageDate,docType:context.docType,docSubType:context.docSubType,docControl:context.docControl,docSubControl:context.docSubControl,docVersion:context.docVersion,triggerVisitId:context.triggerVisitId,invoiceId:context.invoiceId,paymentMethodFileId:context.paymentMethodFileId,orderId:context.orderId,orderPartSeqId:context.orderPartSeqId,orderRevision:context.orderRevision,returnId:context.returnId,shipmentId:context.shipmentId,lastUpdatedStamp:context.lastUpdatedStamp]" transaction="force-new"/><if condition="sendNow"><service-call name="org.moqui.impl.SystemMessageServices.send#ProducedSystemMessage" in-map="[systemMessageId:systemMessageId]" async="true"/></if></actions></service>