<!--Service Location mantle.ledger.LedgerReportServices.get#PeriodSeriesSummaryRows--><service verb="get" noun="PeriodSeriesSummaryRows"><in-parameters><parameter name="periodLabels" type="List"><parameter name="label"/></parameter><parameter name="datasets" type="List" required="true"><parameter name="dataset" type="Map"><parameter name="label"/><parameter name="data" type="List"><parameter name="amount" type="BigDecimal"/></parameter></parameter></parameter></in-parameters><out-parameters><parameter name="rowsList" type="List"><parameter name="row" type="List"><parameter name="value"/></parameter></parameter></out-parameters><actions><set field="numDatasets" from="datasets.size()"/><set field="rowsList" from="[new ArrayList(['Period'] + Collections.nCopies(numDatasets, ''))]"/><iterate list="datasets" entry="dataset"><script><![CDATA[rowsList[0].set(dataset_index+1, dataset.label)]]></script><iterate list="dataset.data" entry="amount"><if condition="rowsList.size() < (amount_index+2)"><script><![CDATA[rowsList.add(new ArrayList([periodLabels[amount_index]] + Collections.nCopies(numDatasets, BigDecimal.ZERO)))]]></script></if><script><![CDATA[rowsList[amount_index+1].set(dataset_index+1, amount)]]></script></iterate></iterate></actions></service>