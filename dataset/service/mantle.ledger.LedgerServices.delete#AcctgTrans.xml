<!--Service Location mantle.ledger.LedgerServices.delete#AcctgTrans--><service verb="delete" noun="AcctgTrans"><in-parameters><parameter name="acctgTransId" required="true" entity-name="mantle.ledger.transaction.AcctgTrans" field-name="acctgTransId"/></in-parameters><out-parameters/><actions><entity-find-one entity-name="mantle.ledger.transaction.AcctgTrans" value-field="acctgTrans" for-update="true"/><if condition="acctgTrans.isPosted == 'Y'"><return error="true" message="Not deleting transaction ${acctgTransId}, transaction is posted"/></if><if condition="acctgTrans.reverseOfAcctgTransId"><entity-find-one entity-name="mantle.ledger.transaction.AcctgTrans" value-field="revOfAcctgTrans" for-update="true"><field-map field-name="acctgTransId" from="acctgTrans.reverseOfAcctgTransId"/></entity-find-one><set field="revOfAcctgTrans.reversedByAcctgTransId" from="null"/><entity-update value-field="revOfAcctgTrans"/></if><entity-delete-by-condition entity-name="mantle.ledger.transaction.AcctgTransEntry"><econdition field-name="acctgTransId"/></entity-delete-by-condition><entity-delete value-field="acctgTrans"/></actions></service>