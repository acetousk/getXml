<!--Service Location mantle.other.BudgetServices.create#Budget--><service verb="create" noun="Budget"><in-parameters><parameter name="budgetTypeEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="budgetTypeEnumId"/><parameter name="timePeriodId" type="java.lang.String" required="true" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="timePeriodId"/><parameter name="subTimePeriodTypeId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="subTimePeriodTypeId"/><parameter name="statusId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="statusId"/><parameter name="currencyUomId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="currencyUomId"/><parameter name="description" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="description"/><parameter name="comments" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="comments"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.other.budget.Budget" field-name="lastUpdatedStamp"/></in-parameters><out-parameters><parameter name="budgetId" entity-name="mantle.other.budget.Budget" field-name="budgetId"/></out-parameters><actions><if condition="!currencyUomId"><entity-find-one entity-name="mantle.party.time.TimePeriod" value-field="timePeriod"/><service-call name="mantle.ledger.LedgerServices.find#PartyAcctgPreference" out-map="[partyAcctgPreference:context.partyAcctgPreference]" in-map="[organizationPartyId:timePeriod.partyId]"/><set field="currencyUomId" from="partyAcctgPreference?.baseCurrencyUomId"/></if><if condition="!currencyUomId"><set field="currencyUomId" value="USD"/></if><service-call name="create#mantle.other.budget.Budget" in-map="context" out-map="[budgetId:context.budgetId,budgetTypeEnumId:context.budgetTypeEnumId,timePeriodId:context.timePeriodId,subTimePeriodTypeId:context.subTimePeriodTypeId,statusId:context.statusId,currencyUomId:context.currencyUomId,description:context.description,comments:context.comments,lastUpdatedStamp:context.lastUpdatedStamp]"/></actions></service>