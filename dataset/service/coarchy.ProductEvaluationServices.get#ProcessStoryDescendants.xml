<!--Service Location coarchy.ProductEvaluationServices.get#ProcessStoryDescendants--><service verb="get" noun="ProcessStoryDescendants"><in-parameters><parameter name="processStoryId" required="true"/></in-parameters><out-parameters><parameter name="descendantIdList" type="List"/></out-parameters><actions><set field="descendantIdList" from="[]"/><entity-find entity-name="coarchy.ProcessStoryActivity" list="processStoryActivityList"><econdition field-name="processStoryId"/><econdition field-name="detailProcessStoryId" operator="is-not-null"/></entity-find><iterate list="processStoryActivityList" entry="processStoryActivity"><script><![CDATA[descendantIdList.add(processStoryActivity.detailProcessStoryId)]]></script><service-call name="coarchy.ProductEvaluationServices.get#ProcessStoryDescendants" out-map="[descendantIdList:descOut.descendantIdList]" out-map-add-to-existing="false" in-map="[processStoryId:processStoryActivity.detailProcessStoryId]"/><script><![CDATA[descendantIdList.addAll(descOut.descendantIdList)]]></script></iterate></actions></service>