<!--Service Location mantle.other.TaxServices.get#RecipientTaxInfo--><service verb="get" noun="RecipientTaxInfo"><in-parameters><parameter name="partyId"/></in-parameters><out-parameters><parameter name="firstName"/><parameter name="lastName"/><parameter name="suffix"/><parameter name="ssn"/><parameter name="ein"/><parameter name="homeContactInfo" type="Map"/><parameter name="homeStreetString"/><parameter name="homeCszString"/><parameter name="homeString"/></out-parameters><actions><entity-find-one entity-name="mantle.party.PartyDetail" value-field="partyDetail"/><set field="firstName" from="partyDetail.organizationName ? partyDetail.organizationName : partyDetail.firstName + (partyDetail.middleName ? ' ' + partyDetail.middleName : '')"/><set field="lastName" from="partyDetail.lastName ?: ''"/><set field="suffix" from="partyDetail.suffix"/><entity-find-one entity-name="mantle.party.PartyIdentification" value-field="ssnPi"><field-map field-name="partyId"/><field-map field-name="partyIdTypeEnumId" value="PtidSsn"/></entity-find-one><set field="ssn" from="ssnPi?.idValue"/><entity-find-one entity-name="mantle.party.PartyIdentification" value-field="einPi"><field-map field-name="partyId"/><field-map field-name="partyIdTypeEnumId" value="PtidFein"/></entity-find-one><set field="ein" from="einPi?.idValue"/><service-call name="mantle.party.ContactServices.get#PartyContactInfo" out-map="[postalContactMechId:homeContactInfo.postalContactMechId,postalContactMech:homeContactInfo.postalContactMech,postalContactMechPurposeId:homeContactInfo.postalContactMechPurposeId,postalAddress:homeContactInfo.postalAddress,postalAddressStateGeo:homeContactInfo.postalAddressStateGeo,postalAddressCountryGeo:homeContactInfo.postalAddressCountryGeo,postalAddressGeoPoint:homeContactInfo.postalAddressGeoPoint,postalTrustLevelEnum:homeContactInfo.postalTrustLevelEnum,telecomContactMechId:homeContactInfo.telecomContactMechId,telecomContactMech:homeContactInfo.telecomContactMech,telecomPartyContactMech:homeContactInfo.telecomPartyContactMech,telecomContactMechPurposeId:homeContactInfo.telecomContactMechPurposeId,telecomNumber:homeContactInfo.telecomNumber,faxContactMechId:homeContactInfo.faxContactMechId,faxContactMech:homeContactInfo.faxContactMech,faxPartyContactMech:homeContactInfo.faxPartyContactMech,faxContactMechPurposeId:homeContactInfo.faxContactMechPurposeId,faxTelecomNumber:homeContactInfo.faxTelecomNumber,emailContactMechId:homeContactInfo.emailContactMechId,emailContactMech:homeContactInfo.emailContactMech,emailPartyContactMech:homeContactInfo.emailPartyContactMech,emailContactMechPurposeId:homeContactInfo.emailContactMechPurposeId,emailAddress:homeContactInfo.emailAddress,webContactMechId:homeContactInfo.webContactMechId,webContactMech:homeContactInfo.webContactMech,webPartyContactMech:homeContactInfo.webPartyContactMech,webContactMechPurposeId:homeContactInfo.webContactMechPurposeId,webAddress:homeContactInfo.webAddress,otherContactMechId:homeContactInfo.otherContactMechId,otherContactMech:homeContactInfo.otherContactMech,otherContactMechPurposeId:homeContactInfo.otherContactMechPurposeId,otherInfoString:homeContactInfo.otherInfoString]" in-map="[partyId:partyId, postalContactMechPurposeId:'PostalPayment']"/><script><![CDATA[homeStreetString = """${homeContactInfo?.postalAddress?.address1 ? homeContactInfo.postalAddress.address1 + (homeContactInfo.postalAddress.unitNumber ? ' #' + homeContactInfo.postalAddress.unitNumber : '') : ''}${homeContactInfo?.postalAddress?.address2 ? '\n' + homeContactInfo.postalAddress.address2 : ''}"""]]></script><script><![CDATA[homeCszString = """${homeContactInfo?.postalAddress ? (homeContactInfo.postalAddress.city ?: '') + (homeContactInfo.postalAddressStateGeo?.geoCodeAlpha2 ? ', ' + homeContactInfo.postalAddressStateGeo.geoCodeAlpha2 : '') + ' ' + (homeContactInfo.postalAddress.postalCode ?: '') + (homeContactInfo.postalAddress.postalCodeExt ? '-' + homeContactInfo.postalAddress.postalCodeExt : '') + (homeContactInfo.postalAddressCountryGeo?.geoCodeAlpha3 ? ' ' + homeContactInfo.postalAddressCountryGeo.geoCodeAlpha3 : '') : ''}"""]]></script><script><![CDATA[homeString = """${homeStreetString}\n${homeCszString}"""]]></script></actions></service>