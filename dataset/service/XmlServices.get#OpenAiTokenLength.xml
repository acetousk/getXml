<!--Service Location XmlServices.get#OpenAiTokenLength--><service verb="get" noun="OpenAiTokenLength"><in-parameters><parameter name="text" allow-html="any" required="true"/><parameter name="encoding" default-value="cl100k_base" required="true"/></in-parameters><out-parameters><parameter name="tokenCount" type="Integer"/></out-parameters><actions><script><![CDATA[import com.knuddels.jtokkit.Encodings]]></script><set field="registry" from="Encodings.newLazyEncodingRegistry()"/><set field="encodingOptional" from="registry?.getEncoding(encoding)"/><set field="tokenCount" from="encodingOptional?.get()?.countTokens(text)"/></actions></service>