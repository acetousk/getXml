<!--Service Location org.moqui.impl.PrintServices.print#ResourceDocument--><service verb="print" noun="ResourceDocument"><in-parameters><parameter name="networkPrinterId" required="true"/><parameter name="createdDate" type="Timestamp" default="ec.user.nowTimestamp"/><parameter name="username"/><parameter name="jobName"/><parameter name="copies" type="Integer" default="1"/><parameter name="duplex" default-value="N"/><parameter name="pageRanges"/><parameter name="resourceLocation" required="true"/></in-parameters><out-parameters><parameter name="printJobId"/><parameter name="jobId" type="Integer"/></out-parameters><actions><set field="resourceReference" from="ec.resource.getLocationReference(resourceLocation)"/><if condition="resourceReference == null || !resourceReference.getExists()"><return error="true" message="Could not find resource at [${resourceLocation}]"/></if><set field="inputStream" from="resourceReference.openStream()"/><service-call name="org.moqui.impl.PrintServices.print#Document" out-map="[printJobId:context.printJobId,jobId:context.jobId]" in-map="context + [inputStream:inputStream, contentType:resourceReference.getContentType(), storeDocument:false]"/></actions></service>