<!--Service Location org.moqui.search.SearchServices.index#DataDocuments--><service verb="index" noun="DataDocuments"><in-parameters><parameter name="dataFeedId" entity-name="moqui.entity.feed.DataFeed" field-name="dataFeedId" required="false"/><parameter name="feedStamp" type="Timestamp" required="false"/><parameter name="documentList" type="List" required="true"><parameter name="document" type="Map"><parameter name="_id" required="true"><description><![CDATA[The combined PK field values of the primary
                        entity in the DataDocument. If there is more than one PK field the values are separated with a
                        double-colon ("::").]]></description></parameter><parameter name="_type" required="true"><description><![CDATA[The DataDocument.dataDocumentId that defines
                        the document structure, etc.]]></description></parameter><parameter name="_index"><description><![CDATA[From DataDocument.indexName, if specified.]]></description></parameter><parameter name="_timestamp"><description><![CDATA[Document timestamp in the format yyyy-MM-dd'T'HH:mm:ss]]></description></parameter></parameter></parameter><parameter name="verifyIndexes" type="Boolean" default="true"/><parameter name="clusterName" default-value="default"/></in-parameters><out-parameters/><actions><set field="elasticClient" from="ec.factory.elastic.getClient(clusterName)"/><if condition="elasticClient == null"><return type="danger" message="No Elastic Client found for cluster name ${clusterName}, not indexing documents"/></if><if condition="verifyIndexes"><script><![CDATA[elasticClient.verifyDataDocumentIndexes(documentList)]]></script></if><script><![CDATA[elasticClient.bulkIndexDataDocument(documentList)]]></script></actions></service>