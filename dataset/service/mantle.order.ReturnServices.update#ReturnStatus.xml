<!--Service Location mantle.order.ReturnServices.update#ReturnStatus--><service verb="update" noun="ReturnStatus"><in-parameters><parameter name="returnId" required="true"/><parameter name="statusId" required="true"/></in-parameters><out-parameters><parameter name="oldStatusId"/><parameter name="statusChanged" type="Boolean"/></out-parameters><actions><entity-find entity-name="mantle.order.return.ReturnItem" list="returnItemList"><econdition field-name="returnId"/></entity-find><iterate list="returnItemList" entry="returnItem"><if condition="returnItem.statusId == 'ReturnCancelled'"><continue/></if><service-call name="update#mantle.order.return.ReturnItem" in-map="[returnId:returnId, returnItemSeqId:returnItem.returnItemSeqId, statusId:statusId]"/></iterate><service-call name="update#mantle.order.return.ReturnHeader" out-map="[returnId:context.returnId,statusId:context.statusId,customerPartyId:context.customerPartyId,vendorPartyId:context.vendorPartyId,paymentMethodId:context.paymentMethodId,useSingleRefundPayment:context.useSingleRefundPayment,finAccountId:context.finAccountId,entryDate:context.entryDate,postalContactMechId:context.postalContactMechId,telecomContactMechId:context.telecomContactMechId,facilityId:context.facilityId,shipmentMethodEnumId:context.shipmentMethodEnumId,carrierPartyId:context.carrierPartyId,currencyUomId:context.currencyUomId,supplierRmaId:context.supplierRmaId,visitId:context.visitId,systemMessageRemoteId:context.systemMessageRemoteId,displayId:context.displayId,externalId:context.externalId,originId:context.originId,lastUpdatedStamp:context.lastUpdatedStamp]" in-map="[returnId:returnId, statusId:statusId]"/></actions></service>