<!--Service Location org.moqui.impl.UserServices.get#UserAuthcFactorRequired--><service verb="get" noun="UserAuthcFactorRequired"><in-parameters><parameter name="userId" required="true"/></in-parameters><out-parameters><parameter name="secondFactorRequired" type="Boolean"/></out-parameters><actions><entity-find-count entity-name="moqui.security.UserAuthcFactor" count-field="uafCount"><date-filter/><econdition field-name="userId"/></entity-find-count><if condition="uafCount == 0"><then><entity-find-count entity-name="moqui.security.UserGroup" count-field="userGroupCount"><econdition field-name="userGroupId" operator="in" from="ec.user.getUserGroupIdSet(userId)"/><econdition field-name="requireAuthcFactor" value="Y"/></entity-find-count><set field="secondFactorRequired" from="userGroupCount > 0"/></then><else><set field="secondFactorRequired" from="true"/></else></if></actions></service>