<!--Service Location org.moqui.impl.ScreenServices.get#FormResponse--><service verb="get" noun="FormResponse"><in-parameters><parameter name="formResponseId" required="true" entity-name="moqui.screen.form.FormResponse" field-name="formResponseId"/></in-parameters><out-parameters><parameter name="formResponseId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.screen.form.FormResponse" field-name="formResponseId"/><parameter name="formLocation" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.screen.form.FormResponse" field-name="formLocation"/><parameter name="formId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.screen.form.FormResponse" field-name="formId"/><parameter name="userId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.screen.form.FormResponse" field-name="userId"/><parameter name="responseDate" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.screen.form.FormResponse" field-name="responseDate"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.screen.form.FormResponse" field-name="lastUpdatedStamp"/><parameter name="responseMap" type="Map"/><parameter name="dbForm" type="Map"/><parameter name="dbFormFieldList" type="List"/><parameter name="dbFormFieldPages" type="Integer"/></out-parameters><actions><entity-find-one entity-name="moqui.screen.form.FormResponse" value-field="formResponse"/><if condition="formResponse.formId"><entity-find-one entity-name="moqui.screen.form.DbForm" value-field="dbForm"><field-map field-name="formId" from="formResponse.formId"/></entity-find-one><entity-find entity-name="moqui.screen.form.DbFormField" list="dbFormFieldList"><econdition field-name="formId" from="formResponse.formId"/><order-by field-name="layoutSequenceNum"/></entity-find><set field="dbFormFieldPages" from="1"/><iterate list="dbFormFieldList" entry="dbFormField"><set field="printPageNumber" from="dbFormField.printPageNumber ?: 1"/><if condition="printPageNumber > dbFormFieldPages"><set field="dbFormFieldPages" from="printPageNumber"/></if></iterate></if><script><![CDATA[context.putAll(formResponse)]]></script><entity-find entity-name="moqui.screen.form.FormResponseAnswer" list="answerList"><econdition field-name="formResponseId"/></entity-find><set field="responseMap" from="[:]"/><iterate list="answerList" entry="answer"><script><![CDATA[responseMap.put(answer.fieldName, answer.valueText)]]></script></iterate></actions></service>