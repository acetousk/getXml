<!--Service Location mantle.product.AssetServices.create#ProductAssetAdHoc--><service verb="create" noun="ProductAssetAdHoc"><in-parameters><parameter name="parentAssetId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="parentAssetId"/><parameter name="assetTypeEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="assetTypeEnumId"/><parameter name="statusId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="statusId"/><parameter name="ownerPartyId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="ownerPartyId"/><parameter name="assetPoolId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="assetPoolId"/><parameter name="productId" type="java.lang.String" required="true" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="productId"/><parameter name="originalQuantity" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="originalQuantity"/><parameter name="originalQuantityUomId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="originalQuantityUomId"/><parameter name="assetName" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="assetName"/><parameter name="comments" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="comments"/><parameter name="serialNumber" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="serialNumber"/><parameter name="softIdentifier" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="softIdentifier"/><parameter name="activationNumber" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="activationNumber"/><parameter name="activationValidThru" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="activationValidThru"/><parameter name="manufacturedDate" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="manufacturedDate"/><parameter name="expectedEndOfLife" type="java.sql.Date" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="expectedEndOfLife"/><parameter name="actualEndOfLife" type="java.sql.Date" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="actualEndOfLife"/><parameter name="capacity" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="capacity"/><parameter name="capacityUomId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="capacityUomId"/><parameter name="facilityId" type="java.lang.String" required="true" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="facilityId"/><parameter name="locationSeqId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="locationSeqId"/><parameter name="containerId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="containerId"/><parameter name="shipmentBoxTypeId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="shipmentBoxTypeId"/><parameter name="lotId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="lotId"/><parameter name="geoPointId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="geoPointId"/><parameter name="originId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="originId"/><parameter name="originFacilityId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="originFacilityId"/><parameter name="acquireOrderId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="acquireOrderId"/><parameter name="acquireOrderItemSeqId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="acquireOrderItemSeqId"/><parameter name="acquireWorkEffortId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="acquireWorkEffortId"/><parameter name="acquireShipmentId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="acquireShipmentId"/><parameter name="acquireCost" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="acquireCost"/><parameter name="acquireCostUomId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="acquireCostUomId"/><parameter name="salvageValue" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="salvageValue"/><parameter name="depreciation" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="depreciation"/><parameter name="depreciationTypeEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="depreciationTypeEnumId"/><parameter name="yearBeginDepreciation" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="yearBeginDepreciation"/><parameter name="taxDepreciation" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="taxDepreciation"/><parameter name="taxDepreciationTypeEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="taxDepreciationTypeEnumId"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.product.asset.Asset" field-name="lastUpdatedStamp"/><parameter name="createdDate" type="Timestamp" default="ec.user.nowTimestamp"/></in-parameters><out-parameters><parameter name="assetId"/></out-parameters><actions><entity-find-one entity-name="mantle.product.Product" value-field="product" cache="true"/><set field="assetTypeEnumId" from="product.assetTypeEnumId ?: 'AstTpInventory'"/><set field="statusId" from="statusId ?: (assetTypeEnumId == 'AstTpInventory' ? 'AstAvailable' : 'AstInStorage')"/><if condition="!acquireCost"><entity-find entity-name="mantle.product.asset.Asset" list="costAssetList" limit="1"><econdition field-name="productId"/><econdition field-name="facilityId"/><econdition field-name="ownerPartyId" ignore-if-empty="true"/><order-by field-name="-assetId"/></entity-find><if condition="costAssetList"><set field="acquireCost" from="costAssetList[0].acquireCost"/><set field="acquireCostUomId" from="costAssetList[0].acquireCostUomId"/></if></if><service-call name="create#mantle.product.asset.Asset" out-map="[assetId:assetOut.assetId,parentAssetId:assetOut.parentAssetId,assetTypeEnumId:assetOut.assetTypeEnumId,classEnumId:assetOut.classEnumId,statusId:assetOut.statusId,ownerPartyId:assetOut.ownerPartyId,assetPoolId:assetOut.assetPoolId,productId:assetOut.productId,hasQuantity:assetOut.hasQuantity,quantityOnHandTotal:assetOut.quantityOnHandTotal,availableToPromiseTotal:assetOut.availableToPromiseTotal,originalQuantity:assetOut.originalQuantity,originalQuantityUomId:assetOut.originalQuantityUomId,assetName:assetOut.assetName,comments:assetOut.comments,serialNumber:assetOut.serialNumber,softIdentifier:assetOut.softIdentifier,activationNumber:assetOut.activationNumber,activationValidThru:assetOut.activationValidThru,receivedDate:assetOut.receivedDate,acquiredDate:assetOut.acquiredDate,manufacturedDate:assetOut.manufacturedDate,expectedEndOfLife:assetOut.expectedEndOfLife,actualEndOfLife:assetOut.actualEndOfLife,capacity:assetOut.capacity,capacityUomId:assetOut.capacityUomId,facilityId:assetOut.facilityId,locationSeqId:assetOut.locationSeqId,containerId:assetOut.containerId,shipmentBoxTypeId:assetOut.shipmentBoxTypeId,lotId:assetOut.lotId,geoPointId:assetOut.geoPointId,originId:assetOut.originId,originFacilityId:assetOut.originFacilityId,acquireOrderId:assetOut.acquireOrderId,acquireOrderItemSeqId:assetOut.acquireOrderItemSeqId,acquireWorkEffortId:assetOut.acquireWorkEffortId,acquireShipmentId:assetOut.acquireShipmentId,acquireCost:assetOut.acquireCost,acquireCostUomId:assetOut.acquireCostUomId,salvageValue:assetOut.salvageValue,depreciation:assetOut.depreciation,depreciationTypeEnumId:assetOut.depreciationTypeEnumId,yearBeginDepreciation:assetOut.yearBeginDepreciation,taxDepreciation:assetOut.taxDepreciation,taxDepreciationTypeEnumId:assetOut.taxDepreciationTypeEnumId,lastUpdatedStamp:assetOut.lastUpdatedStamp]" in-map="context + [classEnumId:product.assetClassEnumId, quantityOnHandTotal:0, availableToPromiseTotal:0,                         hasQuantity:'Y', receivedDate:createdDate, acquiredDate:createdDate]"/><set field="assetId" from="assetOut.assetId"/></actions></service>