<!--Service Location sales.SalesOrderServices.update#ShipToParty--><service verb="update" noun="ShipToParty"><in-parameters><parameter name="orderId"/><parameter name="orderPartSeqId"/><parameter name="currentShipToPartyId"/><parameter name="newShipToPartyId"/></in-parameters><out-parameters/><actions><if condition="currentShipToPartyId == newShipToPartyId"><return/></if><entity-find-one entity-name="OrderPart" value-field="orderPart"><field-map field-name="orderId" from="orderId"/><field-map field-name="orderPartSeqId" from="orderPartSeqId"/></entity-find-one><service-call name="delete#mantle.order.OrderPartParty"><field-map field-name="orderId" from="orderId"/><field-map field-name="orderPartSeqId" from="orderPartSeqId"/><field-map field-name="roleTypeId" value="CustomerShipTo"/><field-map field-name="partyId" value="*"/></service-call><service-call name="update#mantle.order.OrderPart"><field-map field-name="orderId" from="orderId"/><field-map field-name="orderPartSeqId" from="orderPartSeqId"/><field-map field-name="postalContactMechId" value=""/></service-call><if condition="newShipToPartyId != orderPart.customerPartyId"><service-call name="create#mantle.order.OrderPartParty"><field-map field-name="orderId" from="orderId"/><field-map field-name="orderPartSeqId" from="orderPartSeqId"/><field-map field-name="roleTypeId" value="CustomerShipTo"/><field-map field-name="partyId" from="newShipToPartyId"/></service-call></if></actions></service>