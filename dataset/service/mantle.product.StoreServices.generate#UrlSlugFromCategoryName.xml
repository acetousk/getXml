<!--Service Location mantle.product.StoreServices.generate#UrlSlugFromCategoryName--><service verb="generate" noun="UrlSlugFromCategoryName"><in-parameters><parameter name="productCategoryId" required="true"/><parameter name="categoryName"/><parameter name="productCategoryIdentId"/></in-parameters><out-parameters><parameter name="productCategoryIdentId"/><parameter name="outUrlSlug"/></out-parameters><actions><if condition="!categoryName"><entity-find-one entity-name="mantle.product.category.ProductCategory" value-field="productCategory"/><set field="categoryName" from="productCategory?.categoryName"/></if><service-call name="mantle.product.StoreServices.format#UrlSlug" in-map="[inUrlSlug:categoryName]" out-map="[outUrlSlug:context.outUrlSlug]"/><service-call name="create#mantle.product.category.ProductCategoryIdent" in-map="[productCategoryIdentId:productCategoryIdentId, productCategoryId:productCategoryId, identTypeEnumId:'PcitUrlSlug', idValue:outUrlSlug]" out-map="[productCategoryIdentId:context.productCategoryIdentId,productCategoryId:context.productCategoryId,identTypeEnumId:context.identTypeEnumId,productStoreId:context.productStoreId,marketSegmentId:context.marketSegmentId,idValue:context.idValue,lastUpdatedStamp:context.lastUpdatedStamp]"/></actions></service>