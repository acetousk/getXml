<!--Service Location mantle.work.ManufacturingServices.get#ProductionRunDisplayInfo--><service verb="get" noun="ProductionRunDisplayInfo"><in-parameters><parameter name="workEffortId" required="true"/></in-parameters><out-parameters><parameter name="workEffort" type="Map"/><parameter name="statusHistoryList" type="List"><parameter name="auditLog" type="Map"/></parameter><parameter name="lineFacility" type="Map"/><parameter name="warehouseFacility" type="Map"/><parameter name="currentFacilityIdList" type="List"><parameter name="facilityId"/></parameter><parameter name="inventoryFacilityId"/><parameter name="inventoryFacility" type="Map"/><parameter name="consumeList" type="List"><parameter name="consumeItem" type="Map"/></parameter><parameter name="consumeProductIdList" type="List"><parameter name="productId"/></parameter><parameter name="produceList" type="List"><parameter name="produceItem" type="Map"/></parameter><parameter name="produceProductIdList" type="List"><parameter name="productId"/></parameter><parameter name="combinedProductIdList" type="List"><parameter name="productId"/></parameter><parameter name="assetSummaryList" type="List"><description><![CDATA[List of AssetSummaryView records for all products consumed and produced, to be filtered and used as needed.]]></description><parameter name="assetSummary" type="Map"/></parameter><parameter name="issuanceSummaryList" type="List"><description><![CDATA[Summary of quantities of assets issued (consumed) by productId.]]></description><parameter name="issuanceSummary" type="Map"/></parameter><parameter name="receiptSummaryList" type="List"><description><![CDATA[Summary of quantities of assets received (produced) by productId.]]></description><parameter name="receiptSummary" type="Map"/></parameter><parameter name="equipmentList" type="List"><parameter name="equipment" type="Map"/></parameter><parameter name="weapdList" type="List"><description><![CDATA[List of WorkEffortAndPartyDetail values.]]></description><parameter name="weapd" type="Map"/></parameter></out-parameters><actions><entity-find-one entity-name="mantle.work.effort.WorkEffort" value-field="workEffort"/><entity-find entity-name="moqui.entity.EntityAuditLog" list="statusHistoryList"><econdition field-name="changedEntityName" value="mantle.work.effort.WorkEffort"/><econdition field-name="changedFieldName" value="statusId"/><econdition field-name="pkPrimaryValue" from="workEffortId"/><order-by field-name="changedDate"/></entity-find><entity-find-related-one value-field="workEffort" relationship-name="mantle.facility.Facility" to-value-field="lineFacility"/><entity-find-related-one value-field="lineFacility" relationship-name="Parent#mantle.facility.Facility" to-value-field="warehouseFacility"/><set field="currentFacilityIdList" from="[workEffort.facilityId]"/><script><![CDATA[if (warehouseFacility) currentFacilityIdList.add(warehouseFacility.facilityId)]]></script><set field="inventoryFacilityId" from="warehouseFacility?.facilityId ?: lineFacility?.facilityId"/><set field="inventoryFacility" from="warehouseFacility ?: lineFacility"/><entity-find entity-name="mantle.work.effort.WorkEffortProductDetail" list="allProdList"><date-filter/><econdition field-name="workEffortId"/><order-by field-name="productName"/></entity-find><filter-map-list list="allProdList" to-list="consumeList"><field-map field-name="typeEnumId" value="WeptConsume"/></filter-map-list><filter-map-list list="allProdList" to-list="produceList"><field-map field-name="typeEnumId" value="WeptProduce"/></filter-map-list><order-map-list list="produceList"><order-by field-name="pseudoId"/><order-by field-name="productName"/></order-map-list><order-map-list list="consumeList"><order-by field-name="pseudoId"/><order-by field-name="productName"/></order-map-list><set field="consumeProductIdList" from="consumeList ? consumeList*.productId : []"/><set field="produceProductIdList" from="produceList ? produceList*.productId : []"/><set field="combinedProductIdList" from="consumeProductIdList + produceProductIdList"/><if condition="combinedProductIdList"><entity-find entity-name="mantle.product.asset.AssetSummaryView" list="assetSummaryList"><econdition field-name="productId" operator="in" from="combinedProductIdList"/><econdition field-name="facilityId" from="inventoryFacilityId"/><select-field field-name="productId"/><select-field field-name="availableToPromiseTotal"/><select-field field-name="quantityOnHandTotal"/></entity-find></if><entity-find entity-name="mantle.product.issuance.AssetIssuanceSummary" list="issuanceSummaryList"><econdition field-name="workEffortId"/><select-field field-name="productId"/><select-field field-name="quantity"/></entity-find><entity-find entity-name="mantle.product.receipt.AssetReceiptSummary" list="receiptSummaryList"><econdition field-name="workEffortId"/><select-field field-name="productId"/><select-field field-name="quantityAccepted"/></entity-find><entity-find entity-name="mantle.work.effort.WorkEffortAssetAndAssign" list="equipmentList"><date-filter/><econdition field-name="workEffortId"/><order-by field-name="assetName"/></entity-find><entity-find entity-name="mantle.work.effort.WorkEffortAndPartyDetail" list="weapdList"><date-filter/><econdition field-name="workEffortId"/><order-by field-name="firstName,lastName,organizationName"/></entity-find></actions></service>