<!--Service Location mantle.party.ContactServices.get#PrimaryEmailAddress--><service verb="get" noun="PrimaryEmailAddress"><in-parameters><parameter name="partyId" required="true"/></in-parameters><out-parameters><parameter name="emailAddress"/><parameter name="contactMechId"/></out-parameters><actions><entity-find entity-name="PartyContactMechInfo" list="pcmiList"><date-filter/><econdition-object field="[partyId:partyId, contactMechPurposeId:'EmailPrimary']"/></entity-find><if condition="pcmiList"><then><set field="emailAddress" from="pcmiList[0].infoString"/><set field="contactMechId" from="pcmiList[0].contactMechId"/></then><else><entity-find entity-name="UserAccount" list="uaList"><econdition field-name="partyId"/></entity-find><if condition="uaList"><set field="emailAddress" from="uaList[0].emailAddress"/></if></else></if></actions></service>