<!--Service Location org.moqui.impl.InstanceServices.init#AppInstance--><service verb="init" noun="AppInstance"><in-parameters><parameter name="appInstanceId" required="true"/></in-parameters><out-parameters><parameter name="connectSuccess" type="Boolean"/><parameter name="instanceCreated" type="Boolean"/><parameter name="instanceExists" type="Boolean"/><parameter name="instanceUuid"/><parameter name="warnings"/></out-parameters><actions><entity-find-one entity-name="moqui.server.instance.AppInstance" value-field="appInstance"/><set field="hostType" from="appInstance?.instanceHost?.hostType"/><if condition="hostType == null"><return error="true" message="No InstanceHostType found for AppInstance with ID ${appInstanceId}"/></if><script><![CDATA[import org.moqui.context.ExecutionContext
            import java.util.concurrent.Future
            Future<Map> instanceFuture = ec.service.async().name("${hostType.initService}").parameters([context:context,appInstanceId:appInstanceId]).callFuture()]]></script></actions></service>