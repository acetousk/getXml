<!--Service Location mantle.account.InvoiceServices.create#InvoiceCreditMemo--><service verb="create" noun="InvoiceCreditMemo"><in-parameters><parameter name="originalInvoiceId" required="true"/><parameter name="invoiceDate" type="Timestamp"/><parameter name="invoiceTypeEnumId" default-value="InvoiceCreditMemo"/><parameter name="quantity" type="BigDecimal" default="1.0"/><parameter name="amount" type="BigDecimal"/><parameter name="description"/><parameter name="itemTypeEnumId"/><parameter name="overrideGlAccountId"/><parameter name="activeOrgId"/></in-parameters><out-parameters><parameter name="invoiceId"/></out-parameters><actions><entity-find-one entity-name="mantle.account.invoice.Invoice" value-field="originalInvoice"><field-map field-name="invoiceId" from="originalInvoiceId"/></entity-find-one><service-call name="mantle.account.InvoiceServices.create#Invoice" out-map="[invoiceId:context.invoiceId]" in-map="[invoiceTypeEnumId:invoiceTypeEnumId, fromPartyId:originalInvoice.toPartyId, toPartyId:originalInvoice.fromPartyId,                         invoiceDate:invoiceDate, currencyUomId:originalInvoice.currencyUomId, otherPartyOrderId:originalInvoice.otherPartyOrderId,                         productStoreId:originalInvoice.productStoreId, systemMessageRemoteId:originalInvoice.systemMessageRemoteId]"/><service-call name="create#mantle.account.invoice.InvoiceItem" in-map="[invoiceId:invoiceId, itemTypeEnumId:itemTypeEnumId, amount:amount, quantity:quantity,                         description:description, overrideGlAccountId:overrideGlAccountId]"/></actions></service>