<!--Service Location sales.SalesOrderServices.find#Orders--><service verb="find" noun="Orders"><in-parameters><parameter name="customerPartyId"/><parameter name="pageOffset" default-value="" type="Integer"/><parameter name="pageLimit" default-value="" type="Integer"/><parameter name="orderByField" default-value="-orderId"/></in-parameters><out-parameters><parameter name="orderList" type="List"/><parameter name="count" type="Integer"/></out-parameters><actions><entity-find-count entity-name="mantle.order.OrderPartFindView" count-field="count" distinct="true"><select-field field-name="orderId,orderPartSeqId,orderId,statusId,customerPartyId"/></entity-find-count><entity-find offset="pageOffset" limit="pageLimit" entity-name="mantle.order.OrderPartFindView" list="orderListMain"><econdition field-name="customerPartyId" from="customerPartyId" ignore-if-empty="true"/><order-by field-name="${orderByField}"/><select-field field-name="orderId,orderPartSeqId,orderId,statusId,customerPartyId"/></entity-find><set field="orderList" from="[]"/><if condition="orderListMain"><iterate list="orderListMain" entry="oi"><set field="orderItem" from="new HashMap()"/><script><![CDATA[orderItem.putAll(oi)
                        orderList.add(orderItem)]]></script><entity-find-one entity-name="moqui.basic.StatusItem" value-field="status"><field-map field-name="statusId" from="oi.statusId"/><field-map field-name="statusTypeId" value="OrderHeader"/></entity-find-one><if condition="status"><script><![CDATA[orderItem.put("status",status.description)]]></script></if></iterate></if></actions></service>