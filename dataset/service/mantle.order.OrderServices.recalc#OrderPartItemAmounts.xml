<!--Service Location mantle.order.OrderServices.recalc#OrderPartItemAmounts--><service verb="recalc" noun="OrderPartItemAmounts"><in-parameters><parameter name="orderId" required="true"/><parameter name="orderPartSeqId" required="true"/></in-parameters><out-parameters/><actions><entity-find-one entity-name="mantle.order.OrderPart" value-field="orderPart" for-update="true"/><entity-find entity-name="moqui.basic.EnumGroupMember" list="productItemTypeEgms" cache="true"><econdition field-name="enumGroupEnumId" value="EngItemsProduct"/></entity-find><set field="productItemTypes" from="productItemTypeEgms*.enumId"/><entity-find entity-name="mantle.order.OrderItem" list="orderItemList"><econdition field-name="orderId"/><econdition field-name="orderPartSeqId"/><econdition field-name="itemTypeEnumId" operator="in" from="productItemTypes"/><econdition field-name="productId" operator="is-not-null"/><order-by field-name="orderItemSeqId"/></entity-find><iterate list="orderItemList" entry="orderItem"><service-call name="mantle.order.OrderServices.recalc#OrderItemAmount" in-map="[orderId:orderItem.orderId, orderItemSeqId:orderItem.orderItemSeqId]"/></iterate></actions></service>