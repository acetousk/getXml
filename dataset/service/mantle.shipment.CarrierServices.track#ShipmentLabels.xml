<!--Service Location mantle.shipment.CarrierServices.track#ShipmentLabels--><service verb="track" noun="ShipmentLabels"><in-parameters><parameter name="shipmentId" required="true"/><parameter name="shipmentPackageSeqId"/><parameter name="shipmentRouteSegmentSeqId"><description><![CDATA[Defaults to the first route segment]]></description></parameter></in-parameters><out-parameters/><actions><service-call name="mantle.shipment.CarrierServices.get#ShipmentGatewayDetails" in-map="context" out-map="[shipmentRouteSegmentSeqId:context.shipmentRouteSegmentSeqId,routeSegment:context.routeSegment,shippingGatewayConfigId:context.shippingGatewayConfigId,shippingGatewayConfig:context.shippingGatewayConfig]"/><set field="trackLabelsServiceName" from="shippingGatewayConfig.trackLabelsServiceName"/><if condition="!trackLabelsServiceName"><log level="error" message="No ShippingGatewayConfig with ID ${shippingGatewayConfigId} has no trackLabelsServiceName, not validating address"/><return/></if><service-call name="${trackLabelsServiceName}" out-map="context" in-map="[shipmentId:shipmentId, shipmentRouteSegmentSeqId:shipmentRouteSegmentSeqId,                         shipmentPackageSeqId:shipmentPackageSeqId, shippingGatewayConfigId:shippingGatewayConfigId]"/></actions></service>