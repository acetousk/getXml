<!--Service Location org.moqui.impl.UserServices.invalidate#UserAuthcFactorEntry--><service verb="invalidate" noun="UserAuthcFactorEntry"><in-parameters><parameter name="factorId" required="true"/><parameter name="userId" required="true"/><parameter name="fromFactorId"/></in-parameters><out-parameters/><actions><entity-find entity-name="moqui.security.UserAuthcFactor" list="userAuthcFactorList"><date-filter/><econdition field-name="userId"/></entity-find><iterate list="userAuthcFactorList" entry="userAuthcFactor"><if condition="userAuthcFactor.fromFactorId == factorId || userAuthcFactor.factorId == factorId"><service-call name="update#moqui.security.UserAuthcFactor" in-map="[factorId:userAuthcFactor.factorId, thruDate:ec.user.nowTimestamp]"/></if></iterate></actions></service>