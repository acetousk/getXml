<!--Service Location coarchy.ProductEvaluationServices.cancel#ProductEvaluation--><service verb="cancel" noun="ProductEvaluation"><in-parameters><parameter name="productEvaluationId" required="true" entity-name="coarchy.product.ProductEvaluation" field-name="productEvaluationId"/></in-parameters><out-parameters/><actions><entity-find-one entity-name="coarchy.product.ProductEvaluation" value-field="productEvaluation" for-update="true"/><if condition="!['PeRequirementsSelection', 'PeAwaitingVendorResponse', 'PeInviteVendors'].contains(productEvaluation.statusId)"><return error="true" message="Cannot cancel Product Evaluation in this status."/></if><set field="productEvaluation.statusId" value="PeCancelled"/><entity-update value-field="productEvaluation"/></actions></service>