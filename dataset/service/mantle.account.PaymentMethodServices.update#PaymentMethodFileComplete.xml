<!--Service Location mantle.account.PaymentMethodServices.update#PaymentMethodFileComplete--><service verb="update" noun="PaymentMethodFileComplete"><in-parameters><parameter name="paymentMethodFileId" required="true"/><parameter name="paymentMethodId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="paymentMethodId"/><parameter name="fileTypeEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="fileTypeEnumId"/><parameter name="fileDate" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="fileDate"/><parameter name="entryCount" type="java.lang.Long" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="entryCount"/><parameter name="debitAmountTotal" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="debitAmountTotal"/><parameter name="creditAmountTotal" type="java.math.BigDecimal" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="creditAmountTotal"/><parameter name="fileText" type="java.lang.String" required="false" allow-html="any" entity-name="mantle.account.method.PaymentMethodFile" field-name="fileText"/><parameter name="isCancelled" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="isCancelled"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.account.method.PaymentMethodFile" field-name="lastUpdatedStamp"/><parameter name="paymentList" type="List"/><parameter name="outgoingStatusId" default-value="PmntDelivered"/><parameter name="incomingStatusId" default-value="PmntDelivered"><description><![CDATA[Could also be PmntAuthorized]]></description></parameter></in-parameters><out-parameters/><actions><entity-find-one entity-name="mantle.account.method.PaymentMethodFile" value-field="paymentMethodFile"/><set field="paymentMethodId" from="paymentMethodFile.paymentMethodId"/><entity-find-one entity-name="mantle.account.method.PaymentMethod" value-field="paymentMethod"/><iterate list="paymentList" entry="payment"><set field="outgoing" from="payment.fromPartyId == paymentMethod.ownerPartyId"/><service-call name="update#mantle.account.payment.Payment" in-map="[paymentId:payment.paymentId, paymentMethodFileId:paymentMethodFileId,                             statusId:(outgoing ? outgoingStatusId : incomingStatusId)]"/></iterate><service-call name="update#mantle.account.method.PaymentMethodFile" in-map="context"/></actions></service>