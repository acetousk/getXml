<!--Service Location mantle.product.AssetServices.update#PhysicalInventoryDate--><service verb="update" noun="PhysicalInventoryDate"><in-parameters><parameter name="physicalInventoryId" required="true"/><parameter name="physicalInventoryDate" required="true"/><parameter name="comments"/></in-parameters><out-parameters/><actions><set field="updateMap" from="[physicalInventoryId:physicalInventoryId, physicalInventoryDate:physicalInventoryDate]"/><if condition="comments"><set field="updateMap.comments" from="comments"/></if><service-call name="update#mantle.product.asset.PhysicalInventory" in-map="updateMap"/><entity-find entity-name="mantle.product.asset.AssetDetail" list="assetDetailList"><econdition field-name="physicalInventoryId"/></entity-find><iterate list="assetDetailList" entry="assetDetail"><if condition="assetDetail.effectiveDate != physicalInventoryDate"><service-call name="update#mantle.product.asset.AssetDetail" in-map="[assetDetailId:assetDetail.assetDetailId, effectiveDate:physicalInventoryDate]"/><service-call name="mantle.ledger.AssetAutoPostServices.repost#PhysicalInventoryVariance" in-map="[assetDetailId:assetDetail.assetDetailId]"/></if></iterate></actions></service>