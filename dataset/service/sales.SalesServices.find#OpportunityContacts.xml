<!--Service Location sales.SalesServices.find#OpportunityContacts--><service verb="find" noun="OpportunityContacts"><in-parameters><parameter name="salesOpportunityId" required="true"/><parameter name="roleTypeId"/></in-parameters><out-parameters><parameter name="contactList"/></out-parameters><actions><entity-find entity-name="mantle.sales.opportunity.SalesOpportunityParty" list="tmpContactList"><econdition field-name="salesOpportunityId" from="salesOpportunityId"/><econdition field-name="roleTypeId" from="roleTypeId"/></entity-find><set field="contactList" from="[]"/><if condition="tmpContactList"><iterate list="tmpContactList" entry="ct"><set field="cnt" from="new HashMap()"/><script><![CDATA[cnt.putAll(ct)
                        contactList.add(cnt)]]></script><entity-find-one entity-name="mantle.party.PartyDetail" value-field="contact_obj"><field-map field-name="partyId" from="ct.partyId"/></entity-find-one><if condition="contact_obj"><set field="first_name" from="contact_obj.firstName"/><set field="last_name" from="contact_obj.lastName"/><script><![CDATA[cnt.put("contact_person",first_name + ' ' + last_name)]]></script></if></iterate></if></actions></service>