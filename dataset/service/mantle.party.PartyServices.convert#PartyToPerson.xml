<!--Service Location mantle.party.PartyServices.convert#PartyToPerson--><service verb="convert" noun="PartyToPerson"><in-parameters><parameter name="partyId" required="true"/><parameter name="salutation" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="salutation"/><parameter name="firstName" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="firstName"/><parameter name="middleName" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="middleName"/><parameter name="lastName" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="lastName"/><parameter name="personalTitle" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="personalTitle"/><parameter name="suffix" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="suffix"/><parameter name="nickname" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="nickname"/><parameter name="gender" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="gender"/><parameter name="birthDate" type="java.sql.Date" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="birthDate"/><parameter name="deceasedDate" type="java.sql.Date" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="deceasedDate"/><parameter name="height" type="java.lang.Double" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="height"/><parameter name="weight" type="java.lang.Double" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="weight"/><parameter name="mothersMaidenName" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="mothersMaidenName"/><parameter name="maritalStatusEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="maritalStatusEnumId"/><parameter name="employmentStatusEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="employmentStatusEnumId"/><parameter name="residenceStatusEnumId" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="residenceStatusEnumId"/><parameter name="occupation" type="java.lang.String" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="occupation"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="mantle.party.Person" field-name="lastUpdatedStamp"/></in-parameters><out-parameters/><actions><entity-find-one entity-name="mantle.party.Party" value-field="party" for-update="true"/><if condition="party.partyTypeEnumId == 'PtyPerson'"><return message="Party ${party.pseudoId} is already a person"/></if><entity-find-one entity-name="mantle.party.Organization" value-field="organization"/><if condition="organization != null"><set field="orgName" from="organization.organizationName"/><if condition="!firstName && !lastName"><set field="firstName" from="orgName.contains(' ') ? orgName.substring(0, orgName.lastIndexOf(' ')) : orgName"/><set field="lastName" from="orgName.contains(' ') ? orgName.substring(orgName.lastIndexOf(' ') + 1) : ''"/></if><entity-delete value-field="organization"/></if><set field="party.partyTypeEnumId" value="PtyPerson"/><entity-update value-field="party"/><service-call name="store#mantle.party.Person" in-map="context"/></actions></service>