<!--Service Location mantle.facility.FacilityServices.get#ScannedIdGeneral--><service verb="get" noun="ScannedIdGeneral"><in-parameters><parameter name="facilityId"/><parameter name="scanId"/></in-parameters><out-parameters><parameter name="facilityId"/><parameter name="assetId"/><parameter name="containerId"/><parameter name="locationSeqId"/><parameter name="productId"/></out-parameters><actions><set field="facilityId" from="facilityId ?: ec.user.getPreference('FacilityActive') ?: ec.user.getPreference('FacilityGeneralDefault')"/><if condition="scanId"><entity-find-one entity-name="mantle.product.asset.Asset" value-field="asset"><field-map field-name="assetId" from="scanId"/></entity-find-one><if condition="asset != null"><set field="assetId" from="asset.assetId"/></if><entity-find-one entity-name="mantle.product.asset.Container" value-field="container"><field-map field-name="containerId" from="scanId"/></entity-find-one><if condition="container != null"><then><set field="containerId" from="container.containerId"/></then><else><entity-find-one entity-name="mantle.product.asset.Container" value-field="container"><field-map field-name="serialNumber" from="scanId"/></entity-find-one><if condition="container != null"><set field="containerId" from="container.containerId"/></if></else></if><if condition="facilityId"><entity-find-one entity-name="mantle.facility.FacilityLocation" value-field="facilityLocation"><field-map field-name="facilityId"/><field-map field-name="locationSeqId" from="scanId"/></entity-find-one><if condition="facilityLocation != null"><set field="locationSeqId" from="facilityLocation.locationSeqId"/></if></if><service-call name="mantle.product.ProductServices.find#ProductByIdValue" out-map="[productId:productByIdOut.productId]" in-map="[idValue:scanId]"/><set field="productId" from="productByIdOut.productId"/></if><if condition="!assetId && !containerId && !locationSeqId && !productId"><message><![CDATA[No Asset, Container, Location, or Product found with ID ${scanId}]]></message></if></actions></service>