<!--Service Location mantle.ledger.LedgerServices.expand#ParentOrganizationList--><service verb="expand" noun="ParentOrganizationList"><in-parameters><parameter name="organizationPartyId" required="true"/></in-parameters><out-parameters><parameter name="orgPartyIdList" type="List"/></out-parameters><actions><set field="orgPartyIdList" from="[organizationPartyId]"/><entity-find entity-name="mantle.party.PartyRelationship" list="partyRelationshipList" cache="true"><date-filter/><econdition field-name="fromPartyId" from="organizationPartyId"/><econdition field-name="relationshipTypeEnumId" value="PrtOrgRollup"/><econdition field-name="fromRoleTypeId" value="OrgInternal"/><econdition field-name="toRoleTypeId" value="OrgInternal"/></entity-find><iterate list="partyRelationshipList" entry="partyRelationship"><service-call name="mantle.ledger.LedgerServices.expand#ParentOrganizationList" out-map="[orgPartyIdList:expandResult.orgPartyIdList]" in-map="[organizationPartyId:partyRelationship.toPartyId]"/><script><![CDATA[orgPartyIdList.addAll(expandResult.orgPartyIdList)]]></script></iterate></actions></service>