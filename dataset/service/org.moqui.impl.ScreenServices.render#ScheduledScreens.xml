<!--Service Location org.moqui.impl.ScreenServices.render#ScheduledScreens--><service verb="render" noun="ScheduledScreens"><in-parameters/><out-parameters/><actions><entity-find entity-name="moqui.screen.ScreenScheduled" list="screenScheduledList" cache="true"><date-filter/></entity-find><iterate list="screenScheduledList" entry="screenScheduled"><if condition="!screenScheduled.cronExpression"><log level="warn" message="ScreenScheduled ${screenScheduled.screenScheduledId} has no cronExpression, not running"/><continue/></if><entity-find-one entity-name="moqui.screen.ScreenScheduledLock" value-field="screenScheduledLock"><field-map field-name="screenScheduledId" from="screenScheduled.screenScheduledId"/></entity-find-one><set field="shouldRun" from="org.moqui.impl.service.ScheduledJobRunner.isLastRunBeforeLastSchedule(                         screenScheduled.cronExpression, screenScheduledLock?.lastRunTime, 'ScreenScheduled ' + screenScheduled.screenScheduledId, null)"/><if condition="shouldRun"><service-call name="org.moqui.impl.ScreenServices.render#ScheduledScreen" in-map="[screenScheduledId:screenScheduled.screenScheduledId]" async="distribute"/></if></iterate></actions></service>