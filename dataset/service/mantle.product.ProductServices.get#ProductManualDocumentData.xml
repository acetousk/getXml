<!--Service Location mantle.product.ProductServices.get#ProductManualDocumentData--><service verb="get" noun="ProductManualDocumentData"><in-parameters><parameter name="dataDocumentId" type="String" required="true"/><parameter name="document" type="Map"><description><![CDATA[For details see document parameter in receive#DataFeed.]]></description></parameter></in-parameters><out-parameters><parameter name="document" type="Map"><description><![CDATA[For details see document parameter in receive#DataFeed.]]></description></parameter></out-parameters><actions><set field="productId" from="document.productId"/><entity-find entity-name="mantle.product.ProductContent" list="productContentList"><date-filter/><econdition field-name="productId"/></entity-find><set field="contents" from="[]"/><iterate list="productContentList" entry="productContent"><set field="contentRef" from="ec.resource.getLocationReference(productContent.contentLocation)"/><if condition="contentRef != null && contentRef.isText()"><set field="contentText" from="contentRef.getText()"/><if condition="contentText"><script><![CDATA[contents.add([productContentId:productContent.productContentId, contentText:contentText,
                                              productContentTypeEnumId:productContent.productContentTypeEnumId])]]></script></if></if></iterate><set field="document.contents" from="contents"/></actions></service>