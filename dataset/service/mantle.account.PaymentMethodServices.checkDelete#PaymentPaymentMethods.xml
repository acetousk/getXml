<!--Service Location mantle.account.PaymentMethodServices.checkDelete#PaymentPaymentMethods--><service verb="checkDelete" noun="PaymentPaymentMethods"><in-parameters><parameter name="paymentId" required="true"/></in-parameters><out-parameters/><actions><entity-find-one entity-name="mantle.account.payment.Payment" value-field="payment"/><if condition="payment?.statusId in ['PmntProposed', 'PmntPromised', 'PmntAuthorized', 'PmntDeclined']"><return/></if><if condition="payment?.paymentMethodId"><entity-find-one entity-name="mantle.account.method.PaymentMethod" value-field="paymentMethod"><field-map field-name="paymentMethodId" from="payment.paymentMethodId"/></entity-find-one><if condition="paymentMethod.thruDateSetAuto == 'Y'"><service-call name="mantle.account.PaymentMethodServices.delete#PaymentMethod" in-map="[paymentMethodId:paymentMethod.paymentMethodId]"/></if></if><if condition="payment?.toPaymentMethodId"><entity-find-one entity-name="mantle.account.method.PaymentMethod" value-field="paymentMethod"><field-map field-name="paymentMethodId" from="payment.toPaymentMethodId"/></entity-find-one><if condition="paymentMethod.thruDateSetAuto == 'Y'"><service-call name="mantle.account.PaymentMethodServices.delete#PaymentMethod" in-map="[paymentMethodId:paymentMethod.paymentMethodId]"/></if></if></actions></service>