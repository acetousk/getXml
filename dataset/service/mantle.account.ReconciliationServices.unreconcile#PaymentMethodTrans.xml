<!--Service Location mantle.account.ReconciliationServices.unreconcile#PaymentMethodTrans--><service verb="unreconcile" noun="PaymentMethodTrans"><in-parameters><parameter name="paymentMethodId" required="true" entity-name="mantle.account.method.PaymentMethodTrans" field-name="paymentMethodId"/><parameter name="fitId" required="true" entity-name="mantle.account.method.PaymentMethodTrans" field-name="fitId"/></in-parameters><out-parameters/><actions><entity-find-one entity-name="mantle.account.method.PaymentMethod" value-field="paymentMethod"/><entity-find-one entity-name="mantle.account.method.PaymentMethodTrans" value-field="bankAccountTrans" for-update="true"/><if condition="bankAccountTrans.paymentId"><entity-find-one entity-name="mantle.account.payment.Payment" value-field="payment"><field-map field-name="paymentId" from="bankAccountTrans.paymentId"/></entity-find-one><if condition="payment.reconcileStatusId != 'PmtrNot'"><set field="payment.reconcileStatusId" value="PmtrNot"/><entity-update value-field="payment"/></if><set field="bankAccountTrans.paymentId" from="null"/></if><if condition="bankAccountTrans.acctgTransId"><entity-find-one entity-name="mantle.ledger.transaction.AcctgTransEntry" value-field="acctgTransEntry"><field-map field-name="acctgTransId" from="bankAccountTrans.acctgTransId"/><field-map field-name="acctgTransEntrySeqId" from="bankAccountTrans.acctgTransEntrySeqId"/></entity-find-one><if condition="acctgTransEntry != null && acctgTransEntry.reconcileStatusId != 'AterNot'"><set field="acctgTransEntry.reconcileStatusId" value="AterNot"/><entity-update value-field="acctgTransEntry"/></if><set field="bankAccountTrans.acctgTransId" from="null"/><set field="bankAccountTrans.acctgTransEntrySeqId" from="null"/></if><if condition="bankAccountTrans.noReconcile == 'Y'"><set field="bankAccountTrans.noReconcile" value="N"/></if><entity-update value-field="bankAccountTrans"/></actions></service>