<!--Service Location org.moqui.impl.InstanceServices.remove#AppInstance--><service verb="remove" noun="AppInstance"><in-parameters><parameter name="appInstanceId" required="true"/></in-parameters><out-parameters><parameter name="instanceRemoved" type="Boolean"/><parameter name="instanceExists" type="Boolean"/></out-parameters><actions><entity-find-one entity-name="moqui.server.instance.AppInstance" value-field="appInstance"/><set field="hostType" from="appInstance?.instanceHost?.hostType"/><if condition="hostType == null"><return error="true" message="No InstanceHostType found for AppInstance with ID ${appInstanceId}"/></if><service-call name="${hostType.removeService}" in-map="context" out-map="context"/></actions></service>