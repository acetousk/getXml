<!--Service Location mantle.humanres.PayrollServices.get#TimePeriodTotalPayAmount--><service verb="get" noun="TimePeriodTotalPayAmount"><in-parameters><parameter name="timePeriodId" required="true"/></in-parameters><out-parameters><parameter name="payAmountByCurrencyUomId" type="Map"/></out-parameters><actions><service-call name="mantle.humanres.PayrollServices.get#TimePeriodEmployments" in-map="context" out-map="[employmentList:context.employmentList,timePeriod:context.timePeriod]"/><set field="payAmountByCurrencyUomId" from="[:]"/><iterate list="employmentList" entry="employment"><service-call name="mantle.humanres.PayrollServices.get#EmploymentPayAmount" out-map="[payAmount:payOut.payAmount,currencyUomId:payOut.currencyUomId,salaryFlag:payOut.salaryFlag,timeEntryList:payOut.timeEntryList,employment:payOut.employment,employee:payOut.employee,emplPosition:payOut.emplPosition,timePeriod:payOut.timePeriod,fromTimestamp:payOut.fromTimestamp,thruTimestamp:payOut.thruTimestamp]" in-map="[timePeriodId:timePeriodId, partyRelationshipId:employment.partyRelationshipId]"/><script><![CDATA[addToBigDecimalInMap(payOut.currencyUomId, payOut.payAmount, payAmountByCurrencyUomId)]]></script></iterate></actions></service>