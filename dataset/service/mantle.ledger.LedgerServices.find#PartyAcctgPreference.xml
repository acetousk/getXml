<!--Service Location mantle.ledger.LedgerServices.find#PartyAcctgPreference--><service verb="find" noun="PartyAcctgPreference"><in-parameters><parameter name="organizationPartyId" required="true" entity-name="mantle.ledger.config.PartyAcctgPreference" field-name="organizationPartyId"/></in-parameters><out-parameters><parameter name="partyAcctgPreference" type="EntityValue"/></out-parameters><actions><entity-find-one entity-name="mantle.ledger.config.PartyAcctgPreference" value-field="partyAcctgPreference" cache="true"><field-map field-name="organizationPartyId"/></entity-find-one><if condition="!partyAcctgPreference"><entity-find entity-name="mantle.party.PartyRelationship" list="partyRelationshipList" cache="true"><date-filter/><econdition field-name="fromPartyId" from="organizationPartyId"/><econdition field-name="relationshipTypeEnumId" value="PrtOrgRollup"/><econdition field-name="fromRoleTypeId" value="OrgInternal"/><econdition field-name="toRoleTypeId" value="OrgInternal"/></entity-find><if condition="partyRelationshipList"><service-call name="mantle.ledger.LedgerServices.find#PartyAcctgPreference" out-map="[partyAcctgPreference:context.partyAcctgPreference]" in-map="[organizationPartyId:partyRelationshipList[0].toPartyId]"/></if></if></actions></service>