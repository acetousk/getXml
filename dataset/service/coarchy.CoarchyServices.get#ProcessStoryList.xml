<!--Service Location coarchy.CoarchyServices.get#ProcessStoryList--><service verb="get" noun="ProcessStoryList"><in-parameters><parameter name="organizationId" required="true"/><parameter name="term"/></in-parameters><out-parameters><parameter name="outList"/></out-parameters><actions><set field="ec.user.context?.activeOrgId" from="organizationId"/><set field="ec.user.context?.filterOrgIds" from="[organizationId]"/><if condition="!term"><then><entity-find entity-name="coarchy.ProcessStory" list="processStoryList"><econdition field-name="organizationId"/><order-by field-name="name"/></entity-find></then><else><entity-find entity-name="coarchy.ProcessStory" list="processStoryList"><econdition field-name="organizationId"/><econdition field-name="name" operator="like" value="%${term}%" ignore-case="true"/><order-by field-name="name"/></entity-find></else></if><set field="outList" from="[]"/><script><![CDATA[for (def story in processStoryList)
                    outList.add([value:story?.processStoryId, label:story?.name])]]></script></actions></service>