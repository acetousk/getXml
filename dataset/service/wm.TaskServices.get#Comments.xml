<!--Service Location wm.TaskServices.get#Comments--><service verb="get" noun="Comments"><in-parameters><parameter name="workEffortId" required="true"/></in-parameters><out-parameters><parameter name="commentList"/></out-parameters><actions><entity-find entity-name="mantle.work.effort.WorkEffortCommEventDetail" list="cmtList"><econdition field-name="workEffortId"/><order-by field-name="entryDate"/></entity-find><set field="commentList" from="[]"/><if condition="cmtList"><iterate list="cmtList" entry="cmt"><set field="comment" from="new HashMap()"/><script><![CDATA[comment.putAll(cmt)
                        commentList.add(comment)]]></script><entity-find-one entity-name="mantle.party.PartyDetail" value-field="partyDetail"><field-map field-name="partyId" from="cmt.fromPartyId"/></entity-find-one><if condition="partyDetail"><set field="assignedUserFirstName" from="partyDetail.firstName"/><set field="assignedUserLastName" from="partyDetail.lastName"/><script><![CDATA[comment.put("assignedUserFirstName",assignedUserFirstName)
                            comment.put("assignedUserLastName",assignedUserLastName)]]></script></if></iterate></if></actions></service>