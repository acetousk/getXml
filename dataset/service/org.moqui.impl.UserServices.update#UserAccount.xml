<!--Service Location org.moqui.impl.UserServices.update#UserAccount--><service verb="update" noun="UserAccount"><in-parameters><parameter name="userId" required="true" entity-name="moqui.security.UserAccount" field-name="userId"/><parameter name="username" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="username"/><parameter name="userFullName" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="userFullName"/><parameter name="passwordHint" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="passwordHint"/><parameter name="publicKey" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="publicKey"/><parameter name="disabled" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="disabled"/><parameter name="terminateDate" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="terminateDate"/><parameter name="requirePasswordChange" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="requirePasswordChange"/><parameter name="currencyUomId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="currencyUomId"/><parameter name="locale" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="locale"/><parameter name="timeZone" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="timeZone"/><parameter name="externalUserId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="externalUserId"/><parameter name="emailAddress" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="emailAddress"/><parameter name="ipAllowed" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="ipAllowed"/><parameter name="partyId" type="java.lang.String" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="partyId"/><parameter name="lastUpdatedStamp" type="java.sql.Timestamp" required="false" allow-html="none" entity-name="moqui.security.UserAccount" field-name="lastUpdatedStamp"/></in-parameters><out-parameters/><actions><entity-find-one entity-name="moqui.security.UserAccount" value-field="userAccount"/><if condition="userAccount == null"><return error="true" message="User Account not found for User ID ${userId}"/></if><if condition="username && username != userAccount.username"><entity-find entity-name="moqui.security.UserAccount" list="existingUaList"><econdition field-name="username" ignore-case="true"/></entity-find><if condition="existingUaList"><return error="true" message="Username [${username}] is already in use. Please choose another."/></if></if><if condition="emailAddress && emailAddress != userAccount.emailAddress"><entity-find entity-name="moqui.security.UserAccount" list="existingUaList"><econdition field-name="emailAddress" ignore-case="true"/></entity-find><if condition="existingUaList"><return error="true" message="Email ${emailAddress} is already in use. Login with username ${existingUaList[0].username}"/></if></if><service-call name="update#moqui.security.UserAccount" in-map="context"/></actions></service>