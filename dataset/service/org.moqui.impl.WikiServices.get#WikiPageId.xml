<!--Service Location org.moqui.impl.WikiServices.get#WikiPageId--><service verb="get" noun="WikiPageId"><in-parameters><parameter name="wikiSpaceId" required="true"/><parameter name="pagePath"/><parameter name="createIfMissing" type="Boolean" default="false"/></in-parameters><out-parameters><parameter name="wikiPageId"/><parameter name="wikiPage" type="org.moqui.entity.EntityValue"/><parameter name="createdRecord" type="Boolean"/></out-parameters><actions><entity-find entity-name="moqui.resource.wiki.WikiPage" list="wikiPageList" cache="true"><econdition field-name="wikiSpaceId"/><econdition field-name="pagePath" from="pagePath ?: null"/></entity-find><set field="wikiPage" from="wikiPageList ? wikiPageList[0] : null"/><if condition="wikiPage == null"><entity-find-one entity-name="moqui.resource.wiki.WikiPageAlias" value-field="wikiPageAlias" cache="true"><field-map field-name="wikiSpaceId"/><field-map field-name="aliasPath" from="pagePath ?: null"/></entity-find-one><if condition="wikiPageAlias?.wikiPageId"><entity-find-one entity-name="moqui.resource.wiki.WikiPage" value-field="wikiPage"><field-map field-name="wikiPageId" from="wikiPageAlias.wikiPageId"/></entity-find-one></if></if><if condition="wikiPage == null && createIfMissing"><then><service-call name="create#moqui.resource.wiki.WikiPage" out-map="[wikiPageId:context.wikiPageId,wikiSpaceId:context.wikiSpaceId,pagePath:context.pagePath,parentWikiPageId:context.parentWikiPageId,sequenceNum:context.sequenceNum,createdByUserId:context.createdByUserId,publishedVersionName:context.publishedVersionName,restrictView:context.restrictView,restrictUpdate:context.restrictUpdate,lastUpdatedStamp:context.lastUpdatedStamp]" in-map="[wikiSpaceId:wikiSpaceId, pagePath:(pagePath ?: null), createdByUserId:ec.user.userId]"/><entity-find-one entity-name="moqui.resource.wiki.WikiPage" value-field="wikiPage" cache="false"/><set field="createdRecord" from="true"/></then><else><set field="createdRecord" from="false"/></else></if><set field="wikiPageId" from="wikiPage?.wikiPageId"/></actions></service>