<!--Service Location sales.SalesServices.find#ContactList--><service verb="find" noun="ContactList"><in-parameters><parameter name="partyId" required="true"/></in-parameters><out-parameters><parameter name="contactList" type="List"/><parameter name="relationshipCount" type="Integer"/></out-parameters><actions><entity-find entity-name="mantle.party.PartyRelationship" list="tmpContactList"><econdition field-name="toPartyId" from="partyId"/><econdition field-name="fromRoleTypeId" value="Contact"/><date-filter/></entity-find><entity-find-count entity-name="mantle.party.PartyRelationship" count-field="relationshipCount"><econdition field-name="toPartyId" from="partyId"/><date-filter/><econdition field-name="fromRoleTypeId" value="Contact"/></entity-find-count><set field="contactList" from="[]"/><if condition="tmpContactList"><iterate list="tmpContactList" entry="ct"><set field="cnt" from="new HashMap()"/><script><![CDATA[cnt.putAll(ct)
                        contactList.add(cnt)]]></script><entity-find-one entity-name="mantle.party.PartyDetail" value-field="contact_obj"><field-map field-name="partyId" from="ct.fromPartyId"/></entity-find-one><if condition="contact_obj"><set field="first_name" from="contact_obj.firstName"/><set field="last_name" from="contact_obj.lastName"/><script><![CDATA[cnt.put("contact_person",first_name + ' ' + last_name)]]></script></if></iterate></if></actions></service>